{"version":3,"sources":["components/profile/EditProfile.js","components/profile/Followers.js","components/profile/Following.js","components/profile/Info.js","components/profile/Posts.js","components/profile/Saved.js","pages/profile/[id].js","components/message/Times.js","components/message/MsgDisplay.js","components/message/RightSide.js","pages/message/[id].js","redux/actions/postAction.js","pages sync /^/.*$","redux/actions/notifyAction.js","redux/actions/messageAction.js","../node_modules/peerjs/dist sync","components/NotFound.js","customRouter/PageRender.js","customRouter/PrivateRouter.js","components/alert/Loading.js","components/alert/Toast.js","components/alert/Alert.js","components/NotifyModal.js","images/notice.png","components/header/Menu.js","components/header/Search.js","components/header/Header.js","components/StatusModal.js","audio/got-it-done-613.mp3","SocketClient.js","audio/ringring.mp3","components/message/CallModal.js","App.js","reportWebVitals.js","redux/reducers/authReducer.js","redux/reducers/alertReducer.js","redux/reducers/themeReducer.js","redux/reducers/profileReducer.js","redux/reducers/statusReducer.js","redux/reducers/postReducer.js","redux/reducers/modalReducer.js","redux/reducers/detailPostReducer.js","redux/reducers/discoverReducer.js","redux/reducers/suggestionsReducer.js","redux/reducers/socketReducer.js","redux/reducers/notifyReducer.js","redux/reducers/messageReducer.js","redux/reducers/onlineReducer.js","redux/reducers/callReducer.js","redux/reducers/peerReducer.js","redux/reducers/index.js","redux/store.js","index.js","images/loading.gif","components/Avatar.js","redux/actions/profileAction.js","components/UserCard.js","redux/actions/globalTypes.js","utils/mediaShow.js","utils/imageUpload.js","components/LoadMoreBtn.js","components/FollowBtn.js","utils/valid.js","redux/actions/authAction.js","redux/actions/suggestionsAction.js","redux/actions/discoverAction.js","components/PostThumb.js","components/Icons.js","pages/message/index.js","pages/login.js","pages/register.js","components/home/Status.js","components/home/Posts.js","components/home/RightSideBar.js","components/story/StoryCard.js","components/story/AddStoryCard.js","components/story/StoryViewer.js","components/story/StoryFeature.js","pages/home.js","components/message/LeftSide.js","utils/config.js","components/home/post_card/CardHeader.js","components/Carousel.js","components/home/post_card/CardBody.js","images/send.svg","components/LikeButton.js","components/ShareModal.js","components/home/post_card/CardFooter.js","redux/actions/commentAction.js","components/home/comments/CommentMenu.js","components/home/InputComment.js","components/home/comments/CommentCard.js","components/home/comments/CommentDisplay.js","components/home/Comments.js","components/PostCard.js","utils/fetchData.js","pages/discover.js","pages/post/[id].js"],"names":["EditProfile","setOnEdit","useState","fullname","mobile","address","website","story","gender","userData","setUserData","avatar","setAvatar","useSelector","state","auth","theme","dispatch","useDispatch","useEffect","user","handleInput","e","target","name","value","className","onClick","onSubmit","preventDefault","updateProfileUser","src","URL","createObjectURL","alt","style","filter","type","id","accept","onChange","file","files","err","checkImage","GLOBALTYPES","ALERT","payload","error","htmlFor","top","right","transform","length","cols","rows","Followers","users","setShowFollowers","map","UserCard","_id","FollowBtn","Following","setShowFollowing","Info","profile","onEdit","showFollowers","showFollowing","newData","MODAL","Avatar","size","username","followers","following","email","href","rel","Posts","posts","setPosts","result","setResult","page","setPage","load","setLoad","forEach","data","handleLoadMore","a","getDataAPI","token","res","PROFILE_TYPES","UPDATE_POST","PostThumb","LoadIcon","LoadMoreBtn","Saved","savePosts","setSavePosts","then","catch","response","msg","Profile","useParams","saveTab","setSaveTab","ids","every","item","getProfileUsers","loading","Times","total","parseInt","toString","MsgDisplay","window","confirm","deleteMessages","text","media","index","url","match","videoShow","imageShow","call","background","borderRadius","fontSize","color","times","video","Date","createdAt","toLocaleTimeString","toLocaleString","RightSide","message","socket","peer","setUser","setText","setMedia","loadMedia","setLoadMedia","refDisplay","useRef","pageEnd","setData","isLoadMore","setIsLoadMore","history","useHistory","find","messages","setTimeout","current","scrollIntoView","behavior","block","newUser","handleSubmit","trim","newArr","imageUpload","sender","recipient","toISOString","addMessage","getMessages","getMessagesData","IntersectionObserver","entries","isIntersecting","p","threshold","observe","loadMoreMessages","caller","CALL","callUser","open","peerId","emit","cursor","deleteConversation","push","height","ref","marginTop","opacity","display","splice","handleDeleteMedia","placeholder","Icons","setContent","content","multiple","newMedia","disabled","Conversation","LeftSide","POST_TYPES","CREATE_POST","LOADING_POST","GET_POSTS","GET_POST","DELETE_POST","createPost","images","postDataAPI","newPost","recipients","image","createNotify","getPosts","updatePost","status","imgNewUrl","img","imgOldUrl","patchDataAPI","success","likePost","post","likes","unLikePost","like","removeNotify","getPost","detailPost","deletePost","deleteDataAPI","savePost","saved","AUTH","unSavePost","webpackContext","req","webpackContextResolve","__webpack_require__","o","Error","code","keys","Object","resolve","module","exports","NOTIFY_TYPES","GET_NOTIFIES","CREATE_NOTIFY","REMOVE_NOTIFY","UPDATE_NOTIFY","UPDATE_SOUND","DELETE_ALL_NOTIFIES","notify","getNotifies","notifies","isReadNotify","isRead","deleteAllNotifies","MESS_TYPES","ADD_USER","ADD_MESSAGE","GET_CONVERSATIONS","GET_MESSAGES","UPDATE_MESSAGES","DELETE_MESSAGES","DELETE_CONVERSATION","CHECK_ONLINE_OFFLINE","getConversations","conversations","cv","reverse","DeleteData","webpackEmptyContext","NotFound","minHeight","left","PageRender","pageName","React","createElement","require","default","generatePage","PrivateRouter","props","localStorage","getItem","to","Loading","zIndex","width","viewBox","stroke","strokeWidth","fill","points","x","y","Toast","handleShow","bgColor","minWidth","title","data-dismiss","outline","body","Notify","alert","NotifyModal","handleSound","sound","maxHeight","overflow","handleIsRead","slice","moment","fromNow","Menu","pathname","useLocation","isActive","pn","label","icon","path","link","role","data-toggle","aria-haspopup","aria-expanded","aria-labelledby","THEME","logout","Search","search","setSearch","setUsers","handleSearch","handleClose","toLowerCase","replace","border","Header","scrollTo","StatusModal","setImages","stream","setStream","videoRef","refCanvas","tracks","setTracks","stop","STATUS","camera","deleteImages","autoPlay","muted","clientWidth","clientHeight","setAttribute","getContext","drawImage","toDataURL","navigator","mediaDevices","getUserMedia","mediaStream","srcObject","play","track","getTracks","console","log","newImages","SocketClient","online","audioRef","on","off","Notification","onclick","includes","ONLINE","OFFLINE","controls","audiobell","CallModal","hours","setHours","mins","setMins","second","setSecond","setTotal","answer","setAnswer","youVideo","otherVideo","newCall","setNewCall","setTime","t","addCallMessage","useCallback","disconnect","handleEndCall","close","timer","clearTimeout","openStream","config","audio","playStream","tag","handleAnswer","remoteStream","removeListener","pauseAudio","newAudio","pause","currentTime","Audio","RingRing","playAudio","padding","playsInline","App","modal","refreshToken","io","SOCKET","getSuggestions","permission","requestPermission","newPeer","Peer","undefined","secure","PEER","Alert","exact","component","Home","Login","Register","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","initialState","authReducer","action","alertReducer","themeReducer","profileReducer","LOADING","GET_USER","FOLLOW","UNFOLLOW","EditData","GET_ID","statusReducer","postReducer","modalReducer","detailPostReducer","firstLoad","discoverReducer","DISCOVER_TYPES","suggestionsReducer","SUGGES_TYPES","GET_USERS","socketReducer","notifyReducer","resultUsers","messageReducer","onlineReducer","callReducer","peerReducer","combineReducers","homePosts","discover","suggestions","store","createStore","rootReducer","composeWithDevTools","applyMiddleware","thunk","DataProvider","children","ReactDOM","render","StrictMode","document","getElementById","res1","follow","unfollow","showMsg","imgArr","formData","FormData","append","fetch","method","json","public_id","secure_url","followed","setFollowed","handleFollow","handleUnFollow","valid","password","cf_password","test","validateEmail","errMsg","errLength","login","access_token","setItem","register","check","removeItem","location","getDiscoverPosts","comments","Message","typePass","setTypePass","handleChangeInput","aria-describedby","typeCfPass","setTypeCfPass","defaultChecked","Status","PostCard","RightSideBar","currentYear","getFullYear","StoryCard","onViewStory","Card","marginRight","backgroundColor","Body","objectFit","position","stories","Img","textShadow","predefinedColors","AddStoryCard","showModal","setShowModal","showTextArea","setShowTextArea","selectedColor","setSelectedColor","alignItems","justifyContent","Modal","show","onHide","centered","margin","Button","borderColor","marginBottom","click","StoryViewer","userStories","currentStoryIndex","setCurrentStoryIndex","currentUserIndex","setCurrentUserIndex","isPlaying","storyRef","handleNextStory","currentUserStories","currentStory","dialogClassName","userAvatar","userName","timestamp","hoursAgo","dayjs","diff","getTimeDifference","prevUserStories","Footer","variant","dummyUsers","StoryFeature","showStoryViewer","setShowStoryViewer","selectedUser","setSelectedUser","handleViewStory","onAddStory","scroll","addEventListener","pageYOffset","searchUsers","setSearchUsers","handleAddUser","BASE_URL","CardHeader","clipboard","writeText","Carousel","data-ride","data-target","data-slide-to","data-slide","aria-hidden","CardBody","readMore","setReadMore","LikeButton","isLike","handleLike","handleUnLike","ShareModal","FacebookShareButton","FacebookIcon","round","TwitterShareButton","TwitterIcon","EmailShareButton","EmailIcon","RedditShareButton","RedditIcon","TelegramShareButton","TelegramIcon","WhatsappShareButton","WhatsappIcon","CardFooter","setIsLike","loadLike","setLoadLike","isShare","setIsShare","setSaved","saveLoad","setSaveLoad","handleSavePost","handleUnSavePost","Send","likeComment","comment","newComment","newComments","unLikeComment","CommentMenu","handleRemove","deleteArr","cm","reply","da","deleteComment","MenuItem","InputComment","onReply","setOnReply","commentId","postId","postUserId","createComment","CommentCard","styleCard","pointerEvents","updateComment","CommentDisplay","replyCm","showRep","setShowRep","next","setNext","Comments","setComments","showComments","setShowComments","replyComments","setReplyComments","newCm","newRep","axios","get","headers","Authorization","patch","delete","Discover","Post","setPost"],"mappings":"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","file":"static/js/main.2adb9223.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { checkImage } from '../../utils/imageUpload'\nimport { GLOBALTYPES } from '../../redux/actions/globalTypes'\nimport { updateProfileUser } from '../../redux/actions/profileAction'\n\nconst EditProfile = ({setOnEdit}) => {\n    const initState = {\n        fullname: '', mobile: '', address: '', website: '', story: '', gender: ''\n    }\n    const [userData, setUserData] = useState(initState)\n    const { fullname, mobile, address, website, story, gender } = userData\n\n    const [avatar, setAvatar] = useState('')\n\n    const { auth, theme } = useSelector(state => state)\n    const dispatch = useDispatch()\n\n    useEffect(() => {\n        setUserData(auth.user)\n    }, [auth.user])\n\n\n    const changeAvatar = (e) => {\n        const file = e.target.files[0]\n\n        const err = checkImage(file)\n        if(err) return dispatch({\n            type: GLOBALTYPES.ALERT, payload: {error: err}\n        })\n\n        setAvatar(file)\n    }\n\n    const handleInput = e => {\n        const { name, value } = e.target\n        setUserData({ ...userData, [name]:value })\n    }\n\n    const handleSubmit = e => {\n        e.preventDefault()\n        dispatch(updateProfileUser({userData, avatar, auth}))\n    }\n\n    return (\n        <div className=\"edit_profile\">\n            <button className=\"btn btn-danger btn_close\"\n            onClick={() => setOnEdit(false)}>\n                Close\n            </button>\n\n            <form onSubmit={handleSubmit}>\n                <div className=\"info_avatar\">\n                    <img src={avatar ? URL.createObjectURL(avatar) : auth.user.avatar} \n                    alt=\"avatar\" style={{filter: theme ? 'invert(1)' : 'invert(0)'}} />\n                    <span>\n                        <i className=\"fas fa-camera\" />\n                        <p>Change</p>\n                        <input type=\"file\" name=\"file\" id=\"file_up\"\n                        accept=\"image/*\" onChange={changeAvatar} />\n                    </span>\n                </div>\n\n                <div className=\"form-group\">\n                    <label htmlFor=\"fullname\">Full Name</label>\n                    <div className=\"position-relative\">\n                        <input type=\"text\" className=\"form-control\" id=\"fullname\"\n                        name=\"fullname\" value={fullname} onChange={handleInput} />\n                        <small className=\"text-danger position-absolute\"\n                        style={{top: '50%', right: '5px', transform: 'translateY(-50%)'}}>\n                            {fullname.length}/25\n                        </small>\n                    </div>\n                </div>\n\n                <div className=\"form-group\">\n                    <label htmlFor=\"mobile\">Mobile</label>\n                    <input type=\"text\" name=\"mobile\" value={mobile}\n                    className=\"form-control\" onChange={handleInput} />\n                </div>\n\n                <div className=\"form-group\">\n                    <label htmlFor=\"address\">Address</label>\n                    <input type=\"text\" name=\"address\" value={address}\n                    className=\"form-control\" onChange={handleInput} />\n                </div>\n\n                <div className=\"form-group\">\n                    <label htmlFor=\"website\">Website</label>\n                    <input type=\"text\" name=\"website\" value={website}\n                    className=\"form-control\" onChange={handleInput} />\n                </div>\n\n                <div className=\"form-group\">\n                    <label htmlFor=\"story\">Story</label>\n                    <textarea name=\"story\" value={story} cols=\"30\" rows=\"4\"\n                    className=\"form-control\" onChange={handleInput} />\n\n                    <small className=\"text-danger d-block text-right\">\n                        {story.length}/200\n                    </small>\n                </div>\n\n                <label htmlFor=\"gender\">Gender</label>\n                <div className=\"input-group-prepend px-0 mb-4\">\n                    <select name=\"gender\" id=\"gender\" value={gender}\n                    className=\"custom-select text-capitalize\"\n                    onChange={handleInput}>\n                        <option value=\"male\">Male</option>\n                        <option value=\"female\">Female</option>\n                        <option value=\"other\">Other</option>\n                    </select>\n                </div>\n\n                <button className=\"btn btn-info w-100\" type=\"submit\">Save</button>\n            </form>\n        </div>\n    )\n}\n\nexport default EditProfile\n","import React from 'react'\nimport UserCard from '../UserCard'\nimport FollowBtn from '../FollowBtn'\nimport { useSelector } from 'react-redux'\n\nconst Followers = ({users, setShowFollowers}) => {\n    const { auth } = useSelector(state => state)\n    return (\n        <div className=\"follow\">\n            <div className=\"follow_box\">\n                <h5 className=\"text-center\">Followers</h5>\n                <hr/>\n                \n                <div className=\"follow_content\">\n                    {\n                        users.map(user => (\n                            <UserCard key={user._id} user={user} setShowFollowers={setShowFollowers} >\n                                {\n                                    auth.user._id !== user._id && <FollowBtn user={user} />\n                                }\n                            </UserCard>\n                        ))\n                    }\n                </div>\n                \n\n                <div className=\"close\" onClick={() => setShowFollowers(false)}>\n                    &times;\n                </div>\n                \n            </div>\n        </div>\n    )\n}\n\nexport default Followers\n","import React from 'react'\nimport UserCard from '../UserCard'\nimport FollowBtn from '../FollowBtn'\nimport { useSelector } from 'react-redux'\n\nconst Following = ({users, setShowFollowing}) => {\n    const { auth } = useSelector(state => state)\n    return (\n        <div className=\"follow\">\n            <div className=\"follow_box\">\n                <h5 className=\"text-center\">Following</h5>\n                <hr/>\n\n                <div className=\"follow_content\">\n                    {\n                        users.map(user => (\n                            <UserCard key={user._id} user={user} setShowFollowing={setShowFollowing} >\n                                {\n                                    auth.user._id !== user._id && <FollowBtn user={user} />\n                                }\n                            </UserCard>\n                        ))\n                    }\n                </div>\n\n                <div className=\"close\" onClick={() => setShowFollowing(false)}>\n                    &times;\n                </div>\n                \n            </div>\n        </div>\n    )\n}\n\nexport default Following\n","import React, { useState, useEffect } from 'react'\nimport Avatar from '../Avatar'\nimport EditProfile from './EditProfile'\nimport FollowBtn from '../FollowBtn'\nimport Followers from './Followers'\nimport Following from './Following'\nimport { GLOBALTYPES } from '../../redux/actions/globalTypes'\n\nconst Info = ({id, auth, profile, dispatch}) => {\n    const [userData, setUserData] = useState([])\n    const [onEdit, setOnEdit] = useState(false)\n\n    const [showFollowers, setShowFollowers] = useState(false)\n    const [showFollowing, setShowFollowing] = useState(false)\n\n    useEffect(() => {\n        if(id === auth.user._id){\n            setUserData([auth.user])\n        }else{\n            const newData = profile.users.filter(user => user._id === id)\n            setUserData(newData)\n        }\n    }, [id, auth, dispatch, profile.users])\n\n\n    useEffect(() => {\n        if(showFollowers || showFollowing || onEdit){\n            dispatch({ type: GLOBALTYPES.MODAL, payload: true})\n        }else{\n            dispatch({ type: GLOBALTYPES.MODAL, payload: false})\n        }\n    },[showFollowers, showFollowing, onEdit, dispatch])\n    \n\n    return (\n        <div className=\"info\">\n            {\n                userData.map(user => (\n                    <div className=\"info_container\" key={user._id}>\n                        <Avatar src={user.avatar} size=\"supper-avatar\" />\n\n                        <div className=\"info_content\">\n                            <div className=\"info_content_title\">\n                                <h2>{user.username}</h2>\n                                {\n                                    user._id === auth.user._id\n                                    ?  <button className=\"btn btn-outline-info\"\n                                    onClick={() => setOnEdit(true)}>\n                                        Edit Profile\n                                    </button>\n                                    \n                                    : <FollowBtn user={user} />\n                                }\n                               \n                                \n                            </div>\n\n                            <div className=\"follow_btn\">\n                                <span className=\"mr-4\" onClick={() => setShowFollowers(true)}>\n                                    {user.followers.length} Followers\n                                </span>\n                                <span className=\"ml-4\" onClick={() => setShowFollowing(true)}>\n                                    {user.following.length} Following\n                                </span>\n                            </div>\n\n                            <h6>{user.fullname} <span className=\"text-danger\">{user.mobile}</span></h6>\n                            <p className=\"m-0\">{user.address}</p>\n                            <h6 className=\"m-0\">{user.email}</h6>\n                            <a href={user.website} target=\"_blank\" rel=\"noreferrer\">\n                                {user.website}\n                            </a>\n                            <p>{user.story}</p>\n                        </div>\n\n                        {\n                            onEdit && <EditProfile setOnEdit={setOnEdit} />\n                        }\n\n                        {\n                            showFollowers &&\n                            <Followers \n                            users={user.followers} \n                            setShowFollowers={setShowFollowers} \n                            />\n                        }\n                        {\n                            showFollowing &&\n                            <Following \n                            users={user.following} \n                            setShowFollowing={setShowFollowing} \n                            />\n                        }\n                    </div>\n                ))\n            }\n        </div>\n    )\n}\n\nexport default Info\n","import React, { useState, useEffect } from 'react'\nimport PostThumb from '../PostThumb'\nimport LoadIcon from '../../images/loading.gif'\nimport LoadMoreBtn from '../LoadMoreBtn'\nimport { getDataAPI } from '../../utils/fetchData'\nimport { PROFILE_TYPES } from '../../redux/actions/profileAction'\n\nconst Posts = ({auth, id, dispatch, profile}) => {\n    const [posts, setPosts] = useState([])\n    const [result, setResult] = useState(9)\n    const [page, setPage] = useState(0)\n    const [load, setLoad] = useState(false)\n\n    useEffect(() => {\n        profile.posts.forEach(data => {\n            if(data._id === id){\n                setPosts(data.posts)\n                setResult(data.result)\n                setPage(data.page)\n            }\n        })\n    },[profile.posts, id])\n\n    const handleLoadMore = async () => {\n        setLoad(true)\n        const res = await getDataAPI(`user_posts/${id}?limit=${page * 9}`, auth.token)\n        const newData = {...res.data, page: page + 1, _id: id}\n        dispatch({type: PROFILE_TYPES.UPDATE_POST, payload: newData})\n        setLoad(false)\n    }\n\n    return (\n        <div>\n            <PostThumb posts={posts} result={result} />\n\n            {\n                load && <img src={LoadIcon} alt=\"loading\" className=\"d-block mx-auto\" />\n            }\n\n            \n            <LoadMoreBtn result={result} page={page}\n            load={load} handleLoadMore={handleLoadMore} />\n            \n        </div>\n    )\n}\n\nexport default Posts\n","import React, { useState, useEffect } from 'react'\nimport PostThumb from '../PostThumb'\nimport LoadIcon from '../../images/loading.gif'\nimport LoadMoreBtn from '../LoadMoreBtn'\nimport { getDataAPI } from '../../utils/fetchData'\nimport { GLOBALTYPES } from '../../redux/actions/globalTypes'\n\nconst Saved = ({auth, dispatch}) => {\n    const [savePosts, setSavePosts] = useState([])\n    const [result, setResult] = useState(9)\n    const [page, setPage] = useState(2)\n    const [load, setLoad] = useState(false)\n\n    useEffect(() => {\n        setLoad(true)\n        getDataAPI('getSavePosts', auth.token)\n        .then(res => {\n            setSavePosts(res.data.savePosts)\n            setResult(res.data.result)\n            setLoad(false)\n        })\n        .catch(err => {\n            dispatch({type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg}})\n        })\n\n        return () => setSavePosts([])\n    },[auth.token, dispatch])\n\n    const handleLoadMore = async () => {\n        setLoad(true)\n        const res = await getDataAPI(`getSavePosts?limit=${page * 9}`, auth.token)\n        setSavePosts(res.data.savePosts)\n        setResult(res.data.result)\n        setPage(page + 1)\n        setLoad(false)\n    }\n\n    return (\n        <div>\n            <PostThumb posts={savePosts} result={result} />\n\n            {\n                load && <img src={LoadIcon} alt=\"loading\" className=\"d-block mx-auto\" />\n            }\n\n            \n            <LoadMoreBtn result={result} page={page}\n            load={load} handleLoadMore={handleLoadMore} />\n            \n        </div>\n    )\n}\n\nexport default Saved\n","import React, { useEffect, useState } from 'react'\n\nimport Info from '../../components/profile/Info'\nimport Posts from '../../components/profile/Posts'\nimport Saved from '../../components/profile/Saved'\n\nimport { useSelector, useDispatch } from 'react-redux'\nimport LoadIcon from '../../images/loading.gif'\nimport { getProfileUsers } from '../../redux/actions/profileAction'\nimport { useParams } from 'react-router-dom'\n\n\nconst Profile = () => {\n    const { profile, auth } = useSelector(state => state)\n    const dispatch = useDispatch()\n\n    const { id } = useParams()\n    const [saveTab, setSaveTab] = useState(false)\n\n    useEffect(() => {\n        if(profile.ids.every(item => item !== id)){\n            dispatch(getProfileUsers({id, auth}))\n        }\n    },[id, auth, dispatch, profile.ids])\n\n    return (\n        <div className=\"profile\">\n            \n            <Info auth={auth} profile={profile} dispatch={dispatch} id={id} />\n\n            {\n                auth.user._id === id &&\n                <div className=\"profile_tab\">\n                    <button className={saveTab ? '' : 'active'} onClick={() => setSaveTab(false)}>Posts</button>\n                    <button className={saveTab ? 'active' : ''} onClick={() => setSaveTab(true)}>Saved</button>\n                </div>\n            }\n\n            {\n                profile.loading \n                ? <img className=\"d-block mx-auto\" src={LoadIcon} alt=\"loading\" />\n                : <>\n                    {\n                        saveTab\n                        ? <Saved auth={auth} dispatch={dispatch} />\n                        : <Posts auth={auth} profile={profile} dispatch={dispatch} id={id} />\n                    }\n                </>\n            }\n            \n        </div>\n    )\n}\n\nexport default Profile\n","import React from 'react'\n\nconst Times = ({total}) => {\n    return (\n        <div>\n            <span>\n                {\n                    (parseInt(total/3600)).toString().length < 2\n                    ? '0' + (parseInt(total/3600))\n                    : (parseInt(total/3600))\n                }\n            </span>\n            <span>:</span>\n\n            <span>\n                {\n                    (parseInt(total/60)).toString().length < 2\n                    ? '0' + (parseInt(total/60))\n                    : (parseInt(total/60))\n                }\n            </span>\n            <span>:</span>\n\n            <span>\n                {\n                    (total%60).toString().length < 2\n                    ? '0' + (total%60) + 's'\n                    : (total%60) + 's'\n                }\n            </span>\n        </div>\n    )\n}\n\nexport default Times\n","import React from 'react'\nimport Avatar from '../Avatar'\nimport { imageShow, videoShow } from '../../utils/mediaShow'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { deleteMessages } from '../../redux/actions/messageAction'\nimport Times from './Times'\n\nconst MsgDisplay = ({user, msg, theme, data}) => {\n    const { auth } = useSelector(state => state)\n    const dispatch = useDispatch()\n\n    const handleDeleteMessages = () => {\n        if(!data) return;\n        \n        if(window.confirm('Do you want to delete?')){\n            dispatch(deleteMessages({msg, data, auth}))\n        }\n    }\n\n    return (\n        <>\n            <div className=\"chat_title\">\n                <Avatar src={user.avatar} size=\"small-avatar\" />\n                <span>{user.username}</span>\n            </div>\n\n            <div className=\"you_content\">\n                { \n                    user._id === auth.user._id && \n                    <i className=\"fas fa-trash text-danger\"\n                    onClick={handleDeleteMessages} />\n                }\n\n                <div>\n                    {\n                        msg.text && \n                        <div className=\"chat_text\"\n                        style={{filter: theme ? 'invert(1)' : 'invert(0)'}}>\n                            {msg.text}\n                        </div>\n                    }\n                    {\n                        msg.media.map((item, index) => (\n                            <div key={index}>\n                                {\n                                    item.url.match(/video/i)\n                                    ? videoShow(item.url, theme)\n                                    : imageShow(item.url, theme)\n                                }\n                            </div>\n                        ))\n                    }\n                </div>\n            \n                {\n                    msg.call &&\n                    <button className=\"btn d-flex align-items-center py-3\"\n                    style={{background: '#eee', borderRadius: '10px'}}>\n\n                        <span className=\"material-icons font-weight-bold mr-1\"\n                        style={{ \n                            fontSize: '2.5rem', color: msg.call.times === 0 ? 'crimson' : 'green',\n                            filter: theme ? 'invert(1)' : 'invert(0)'\n                        }}>\n                            {\n                                msg.call.times === 0\n                                ? msg.call.video ? 'videocam_off' : 'phone_disabled'\n                                : msg.call.video ? 'video_camera_front' : 'call'\n                            }\n                        </span>\n\n                        <div className=\"text-left\">\n                            <h6>{msg.call.video ? 'Video Call' : 'Audio Call'}</h6>\n                            <small>\n                                {\n                                    msg.call.times > 0 \n                                    ? <Times total={msg.call.times} />\n                                    : new Date(msg.createdAt).toLocaleTimeString()\n                                }\n                            </small>\n                        </div>\n\n                    </button>\n                }\n            \n            </div>\n\n            <div className=\"chat_time\">\n                {new Date(msg.createdAt).toLocaleString()}\n            </div>\n        </>\n    )\n}\n\nexport default MsgDisplay\n","import React, { useState, useEffect, useRef } from 'react'\nimport UserCard from '../UserCard'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { useParams, useHistory } from 'react-router-dom'\nimport MsgDisplay from './MsgDisplay'\nimport Icons from '../Icons'\nimport { GLOBALTYPES } from '../../redux/actions/globalTypes'\nimport { imageShow, videoShow } from '../../utils/mediaShow'\nimport { imageUpload } from '../../utils/imageUpload'\nimport { addMessage, getMessages, loadMoreMessages, deleteConversation } from '../../redux/actions/messageAction'\nimport LoadIcon from '../../images/loading.gif'\n\nconst RightSide = () => {\n    const { auth, message, theme, socket, peer } = useSelector(state => state)\n    const dispatch = useDispatch()\n\n    const { id } = useParams()\n    const [user, setUser] = useState([])\n    const [text, setText] = useState('')\n    const [media, setMedia] = useState([])\n    const [loadMedia, setLoadMedia] = useState(false)\n\n    const refDisplay = useRef()\n    const pageEnd = useRef()\n\n    const [data, setData] = useState([])\n    const [result, setResult] = useState(9)\n    const [page, setPage] = useState(0)\n    const [isLoadMore, setIsLoadMore] = useState(0)\n\n    const history = useHistory()\n\n    useEffect(() => {\n        const newData = message.data.find(item => item._id === id)\n        if(newData){\n            setData(newData.messages)\n            setResult(newData.result)\n            setPage(newData.page)\n        }\n    },[message.data, id])\n\n    useEffect(() => {\n        if(id && message.users.length > 0){\n            setTimeout(() => {\n                refDisplay.current.scrollIntoView({behavior: 'smooth', block: 'end'})\n            },50)\n\n            const newUser = message.users.find(user => user._id === id)\n            if(newUser) setUser(newUser)\n        }\n    }, [message.users, id])\n\n    const handleChangeMedia = (e) => {\n        const files = [...e.target.files]\n        let err = \"\"\n        let newMedia = []\n\n        files.forEach(file => {\n            if(!file) return err = \"File does not exist.\"\n\n            if(file.size > 1024 * 1024 * 5){\n                return err = \"The image/video largest is 5mb.\"\n            }\n\n            return newMedia.push(file)\n        })\n\n        if(err) dispatch({ type: GLOBALTYPES.ALERT, payload: {error: err} })\n        setMedia([...media, ...newMedia])\n    }\n\n    const handleDeleteMedia = (index) => {\n        const newArr = [...media]\n        newArr.splice(index, 1)\n        setMedia(newArr)\n    }\n\n    const handleSubmit = async (e) => {\n        e.preventDefault()\n        if(!text.trim() && media.length === 0) return;\n        setText('')\n        setMedia([])\n        setLoadMedia(true)\n\n        let newArr = [];\n        if(media.length > 0) newArr = await imageUpload(media)\n\n        const msg = {\n            sender: auth.user._id,\n            recipient: id,\n            text, \n            media: newArr,\n            createdAt: new Date().toISOString()\n        }\n\n        setLoadMedia(false)\n        await dispatch(addMessage({msg, auth, socket}))\n        if(refDisplay.current){\n            refDisplay.current.scrollIntoView({behavior: 'smooth', block: 'end'})\n        }\n    }\n\n    useEffect(() => {\n        const getMessagesData = async () => {\n            if(message.data.every(item => item._id !== id)){\n                await dispatch(getMessages({auth, id}))\n                setTimeout(() => {\n                    refDisplay.current.scrollIntoView({behavior: 'smooth', block: 'end'})\n                },50)\n            }\n        }\n        getMessagesData()\n    },[id, dispatch, auth, message.data])\n\n\n    // Load More\n    useEffect(() => {\n        const observer = new IntersectionObserver(entries => {\n            if(entries[0].isIntersecting){\n                setIsLoadMore(p => p + 1)\n            }\n        },{\n            threshold: 0.1\n        })\n\n        observer.observe(pageEnd.current)\n    },[setIsLoadMore])\n\n    useEffect(() => {\n        if(isLoadMore > 1){\n            if(result >= page * 9){\n                dispatch(loadMoreMessages({auth, id, page: page + 1}))\n                setIsLoadMore(1)\n            }\n        }\n        // eslint-disable-next-line\n    },[isLoadMore])\n\n    const handleDeleteConversation = () => {\n        if(window.confirm('Do you want to delete?')){\n            dispatch(deleteConversation({auth, id}))\n            return history.push('/message')\n        }\n    }\n\n    // Call\n    const caller = ({video}) => {\n        const { _id, avatar, username, fullname } = user\n\n        const msg = {\n            sender: auth.user._id,\n            recipient: _id, \n            avatar, username, fullname, video\n        }\n        dispatch({ type: GLOBALTYPES.CALL, payload: msg })\n    }\n\n    const callUser = ({video}) => {\n        const { _id, avatar, username, fullname } = auth.user\n\n        const msg = {\n            sender: _id,\n            recipient: user._id, \n            avatar, username, fullname, video\n        }\n\n        if(peer.open) msg.peerId = peer._id\n\n        socket.emit('callUser', msg)\n    }\n\n    const handleAudioCall = () => {\n        caller({video: false})\n        callUser({video: false})\n    }\n    \n    const handleVideoCall = () => {\n        caller({video: true})\n        callUser({video: true})\n    }\n\n    return (\n        <>\n            <div className=\"message_header\" style={{cursor: 'pointer'}} >\n                {\n                    user.length !== 0 &&\n                    <UserCard user={user}>\n                        <div>\n                            <i className=\"fas fa-phone-alt\"\n                            onClick={handleAudioCall} />\n\n                            <i className=\"fas fa-video mx-3\"\n                            onClick={handleVideoCall} />\n\n                            <i className=\"fas fa-trash text-danger\"\n                            onClick={handleDeleteConversation} />\n                        </div>\n                    </UserCard>\n                }\n            </div>\n\n            <div className=\"chat_container\" \n            style={{height: media.length > 0 ? 'calc(100% - 180px)' : ''}} >\n                <div className=\"chat_display\" ref={refDisplay}>\n                    <button style={{marginTop: '-25px', opacity: 0}} ref={pageEnd}>\n                        Load more\n                    </button>\n\n                    {\n                        data.map((msg, index) => (\n                                <div key={index}>\n                                    {\n                                        msg.sender !== auth.user._id &&\n                                        <div className=\"chat_row other_message\">\n                                            <MsgDisplay user={user} msg={msg} theme={theme} />\n                                        </div>\n                                    }\n\n                                    {\n                                        msg.sender === auth.user._id &&\n                                        <div className=\"chat_row you_message\">\n                                            <MsgDisplay user={auth.user} msg={msg} theme={theme} data={data} />\n                                        </div>\n                                    }\n                                </div>\n                        ))\n                    }\n                    \n\n                   {\n                       loadMedia && \n                       <div className=\"chat_row you_message\">\n                           <img src={LoadIcon} alt=\"loading\"/>\n                       </div>\n                   }\n\n                </div>\n            </div>\n\n            <div className=\"show_media\" style={{display: media.length > 0 ? 'grid' : 'none'}} >\n                {\n                    media.map((item, index) => (\n                        <div key={index} id=\"file_media\">\n                            {\n                                item.type.match(/video/i)\n                                ? videoShow(URL.createObjectURL(item), theme)\n                                : imageShow(URL.createObjectURL(item), theme)\n                            }\n                            <span onClick={() => handleDeleteMedia(index)} >&times;</span>\n                        </div>\n                    ))\n                }\n            </div>\n\n            <form className=\"chat_input\" onSubmit={handleSubmit} >\n                <input type=\"text\" placeholder=\"Enter you message...\"\n                value={text} onChange={e => setText(e.target.value)}\n                style={{\n                    filter: theme ? 'invert(1)' : 'invert(0)',\n                    background: theme ? '#040404' : '',\n                    color: theme ? 'white' : ''\n                }} />\n\n                <Icons setContent={setText} content={text} theme={theme} />\n\n                <div className=\"file_upload\">\n                    <i className=\"fas fa-image text-danger\" />\n                    <input type=\"file\" name=\"file\" id=\"file\"\n                    multiple accept=\"image/*,video/*\" onChange={handleChangeMedia} />\n                </div>\n\n                <button type=\"submit\" className=\"material-icons\" \n                disabled={(text || media.length > 0) ? false : true}>\n                    near_me\n                </button>\n            </form>\n        </>\n    )\n}\n\nexport default RightSide\n","import React from 'react'\nimport LeftSide from '../../components/message/LeftSide'\nimport RightSide from '../../components/message/RightSide'\n\nconst Conversation = () => {\n    return (\n        <div className=\"message d-flex\">\n            <div className=\"col-md-4 border-right px-0 left_mess\">\n                <LeftSide />\n            </div>\n\n            <div className=\"col-md-8 px-0\">\n                <RightSide />\n            </div>\n        </div>\n    )\n}\n\nexport default Conversation\n","import { GLOBALTYPES } from './globalTypes'\nimport { imageUpload } from '../../utils/imageUpload'\nimport { postDataAPI, getDataAPI, patchDataAPI, deleteDataAPI } from '../../utils/fetchData'\nimport { createNotify, removeNotify } from './notifyAction'\n\nexport const POST_TYPES = {\n    CREATE_POST: 'CREATE_POST',\n    LOADING_POST: 'LOADING_POST',\n    GET_POSTS: 'GET_POSTS',\n    UPDATE_POST: 'UPDATE_POST',\n    GET_POST: 'GET_POST',\n    DELETE_POST: 'DELETE_POST'\n}\n\n\nexport const createPost = ({content, images, auth, socket}) => async (dispatch) => {\n    let media = []\n    try {\n        dispatch({ type: GLOBALTYPES.ALERT, payload: {loading: true} })\n        if(images.length > 0) media = await imageUpload(images)\n\n        const res = await postDataAPI('posts', { content, images: media }, auth.token)\n\n        dispatch({ \n            type: POST_TYPES.CREATE_POST, \n            payload: {...res.data.newPost, user: auth.user} \n        })\n\n        dispatch({ type: GLOBALTYPES.ALERT, payload: {loading: false} })\n\n        // Notify\n        const msg = {\n            id: res.data.newPost._id,\n            text: 'added a new post.',\n            recipients: res.data.newPost.user.followers,\n            url: `/post/${res.data.newPost._id}`,\n            content, \n            image: media[0].url\n        }\n\n        dispatch(createNotify({msg, auth, socket}))\n\n    } catch (err) {\n        dispatch({\n            type: GLOBALTYPES.ALERT,\n            payload: {error: err.response.data.msg}\n        })\n    }\n}\n\nexport const getPosts = (token) => async (dispatch) => {\n    try {\n        dispatch({ type: POST_TYPES.LOADING_POST, payload: true })\n        const res = await getDataAPI('posts', token)\n        \n        dispatch({\n            type: POST_TYPES.GET_POSTS,\n            payload: {...res.data, page: 2}\n        })\n\n        dispatch({ type: POST_TYPES.LOADING_POST, payload: false })\n    } catch (err) {\n        dispatch({\n            type: GLOBALTYPES.ALERT,\n            payload: {error: err.response.data.msg}\n        })\n    }\n}\n\nexport const updatePost = ({content, images, auth, status}) => async (dispatch) => {\n    let media = []\n    const imgNewUrl = images.filter(img => !img.url)\n    const imgOldUrl = images.filter(img => img.url)\n\n    if(status.content === content \n        && imgNewUrl.length === 0\n        && imgOldUrl.length === status.images.length\n    ) return;\n\n    try {\n        dispatch({ type: GLOBALTYPES.ALERT, payload: {loading: true} })\n        if(imgNewUrl.length > 0) media = await imageUpload(imgNewUrl)\n\n        const res = await patchDataAPI(`post/${status._id}`, { \n            content, images: [...imgOldUrl, ...media] \n        }, auth.token)\n\n        dispatch({ type: POST_TYPES.UPDATE_POST, payload: res.data.newPost })\n\n        dispatch({ type: GLOBALTYPES.ALERT, payload: {success: res.data.msg} })\n    } catch (err) {\n        dispatch({\n            type: GLOBALTYPES.ALERT,\n            payload: {error: err.response.data.msg}\n        })\n    }\n}\n\nexport const likePost = ({post, auth, socket}) => async (dispatch) => {\n    const newPost = {...post, likes: [...post.likes, auth.user]}\n    dispatch({ type: POST_TYPES.UPDATE_POST, payload: newPost})\n\n    socket.emit('likePost', newPost)\n\n    try {\n        await patchDataAPI(`post/${post._id}/like`, null, auth.token)\n        \n        // Notify\n        const msg = {\n            id: auth.user._id,\n            text: 'like your post.',\n            recipients: [post.user._id],\n            url: `/post/${post._id}`,\n            content: post.content, \n            image: post.images[0].url\n        }\n\n        dispatch(createNotify({msg, auth, socket}))\n\n    } catch (err) {\n        dispatch({\n            type: GLOBALTYPES.ALERT,\n            payload: {error: err.response.data.msg}\n        })\n    }\n}\n\nexport const unLikePost = ({post, auth, socket}) => async (dispatch) => {\n    const newPost = {...post, likes: post.likes.filter(like => like._id !== auth.user._id)}\n    dispatch({ type: POST_TYPES.UPDATE_POST, payload: newPost})\n\n    socket.emit('unLikePost', newPost)\n\n    try {\n        await patchDataAPI(`post/${post._id}/unlike`, null, auth.token)\n\n        // Notify\n        const msg = {\n            id: auth.user._id,\n            text: 'like your post.',\n            recipients: [post.user._id],\n            url: `/post/${post._id}`,\n        }\n        dispatch(removeNotify({msg, auth, socket}))\n\n    } catch (err) {\n        dispatch({\n            type: GLOBALTYPES.ALERT,\n            payload: {error: err.response.data.msg}\n        })\n    }\n}\n\nexport const getPost = ({detailPost, id, auth}) => async (dispatch) => {\n    if(detailPost.every(post => post._id !== id)){\n        try {\n            const res = await getDataAPI(`post/${id}`, auth.token)\n            dispatch({ type: POST_TYPES.GET_POST, payload: res.data.post })\n        } catch (err) {\n            dispatch({\n                type: GLOBALTYPES.ALERT,\n                payload: {error: err.response.data.msg}\n            })\n        }\n    }\n}\n\nexport const deletePost = ({post, auth, socket}) => async (dispatch) => {\n    dispatch({ type: POST_TYPES.DELETE_POST, payload: post })\n\n    try {\n        const res = await deleteDataAPI(`post/${post._id}`, auth.token)\n\n        // Notify\n        const msg = {\n            id: post._id,\n            text: 'added a new post.',\n            recipients: res.data.newPost.user.followers,\n            url: `/post/${post._id}`,\n        }\n        dispatch(removeNotify({msg, auth, socket}))\n        \n    } catch (err) {\n        dispatch({\n            type: GLOBALTYPES.ALERT,\n            payload: {error: err.response.data.msg}\n        })\n    }\n}\n\nexport const savePost = ({post, auth}) => async (dispatch) => {\n    const newUser = {...auth.user, saved: [...auth.user.saved, post._id]}\n    dispatch({ type: GLOBALTYPES.AUTH, payload: {...auth, user: newUser}})\n\n    try {\n        await patchDataAPI(`savePost/${post._id}`, null, auth.token)\n    } catch (err) {\n        dispatch({\n            type: GLOBALTYPES.ALERT,\n            payload: {error: err.response.data.msg}\n        })\n    }\n}\n\nexport const unSavePost = ({post, auth}) => async (dispatch) => {\n    const newUser = {...auth.user, saved: auth.user.saved.filter(id => id !== post._id) }\n    dispatch({ type: GLOBALTYPES.AUTH, payload: {...auth, user: newUser}})\n\n    try {\n        await patchDataAPI(`unSavePost/${post._id}`, null, auth.token)\n    } catch (err) {\n        dispatch({\n            type: GLOBALTYPES.ALERT,\n            payload: {error: err.response.data.msg}\n        })\n    }\n}","var map = {\n\t\"./discover\": 83,\n\t\"./discover.js\": 83,\n\t\"./home\": 68,\n\t\"./home.js\": 68,\n\t\"./login\": 66,\n\t\"./login.js\": 66,\n\t\"./message\": 62,\n\t\"./message/\": 62,\n\t\"./message/[id]\": 109,\n\t\"./message/[id].js\": 109,\n\t\"./message/index\": 62,\n\t\"./message/index.js\": 62,\n\t\"./post/[id]\": 93,\n\t\"./post/[id].js\": 93,\n\t\"./profile/[id]\": 108,\n\t\"./profile/[id].js\": 108,\n\t\"./register\": 67,\n\t\"./register.js\": 67\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 128;","import { GLOBALTYPES } from './globalTypes'\nimport { postDataAPI, deleteDataAPI, getDataAPI, patchDataAPI } from '../../utils/fetchData'\n\nexport const NOTIFY_TYPES = {\n    GET_NOTIFIES: 'GET_NOTIFIES',\n    CREATE_NOTIFY: 'CREATE_NOTIFY',\n    REMOVE_NOTIFY: 'REMOVE_NOTIFY',\n    UPDATE_NOTIFY: 'UPDATE_NOTIFY',\n    UPDATE_SOUND: 'UPDATE_SOUND',\n    DELETE_ALL_NOTIFIES: 'DELETE_ALL_NOTIFIES'\n}\n\nexport const createNotify = ({msg, auth, socket}) => async (dispatch) => {\n    try {\n        const res = await postDataAPI('notify', msg, auth.token)\n\n        socket.emit('createNotify', {\n            ...res.data.notify,\n            user: {\n                username: auth.user.username,\n                avatar: auth.user.avatar\n            }\n        })\n    } catch (err) {\n        dispatch({type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg}})\n    }\n}\n\nexport const removeNotify = ({msg, auth, socket}) => async (dispatch) => {\n    try {\n        await deleteDataAPI(`notify/${msg.id}?url=${msg.url}`, auth.token)\n        \n        socket.emit('removeNotify', msg)\n    } catch (err) {\n        dispatch({type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg}})\n    }\n}\n\nexport const getNotifies = (token) => async (dispatch) => {\n    try {\n        const res = await getDataAPI('notifies', token)\n        \n        dispatch({ type: NOTIFY_TYPES.GET_NOTIFIES, payload: res.data.notifies })\n    } catch (err) {\n        dispatch({type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg}})\n    }\n}\n\n\nexport const isReadNotify = ({msg, auth}) => async (dispatch) => {\n    dispatch({type: NOTIFY_TYPES.UPDATE_NOTIFY, payload: {...msg, isRead: true}})\n    try {\n        await patchDataAPI(`/isReadNotify/${msg._id}`, null, auth.token)\n    } catch (err) {\n        dispatch({type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg}})\n    }\n}\n\nexport const deleteAllNotifies = (token) => async (dispatch) => {\n    dispatch({type: NOTIFY_TYPES.DELETE_ALL_NOTIFIES, payload: []})\n    try {\n        await deleteDataAPI('deleteAllNotify', token)\n    } catch (err) {\n        dispatch({type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg}})\n    }\n}","import { GLOBALTYPES, DeleteData } from '../actions/globalTypes'\nimport { postDataAPI, getDataAPI, deleteDataAPI } from '../../utils/fetchData'\n\nexport const MESS_TYPES = {\n    ADD_USER: 'ADD_USER',\n    ADD_MESSAGE: 'ADD_MESSAGE',\n    GET_CONVERSATIONS: 'GET_CONVERSATIONS',\n    GET_MESSAGES: 'GET_MESSAGES',\n    UPDATE_MESSAGES: 'UPDATE_MESSAGES',\n    DELETE_MESSAGES: 'DELETE_MESSAGES',\n    DELETE_CONVERSATION: 'DELETE_CONVERSATION',\n    CHECK_ONLINE_OFFLINE: 'CHECK_ONLINE_OFFLINE'\n}\n\n\n\nexport const addMessage = ({msg, auth, socket}) => async (dispatch) =>{\n    dispatch({type: MESS_TYPES.ADD_MESSAGE, payload: msg})\n\n    const { _id, avatar, fullname, username } = auth.user\n    socket.emit('addMessage', {...msg, user: { _id, avatar, fullname, username } })\n    \n    try {\n        await postDataAPI('message', msg, auth.token)\n    } catch (err) {\n        dispatch({type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg}})\n    }\n}\n\nexport const getConversations = ({auth, page = 1}) => async (dispatch) => {\n    try {\n        const res = await getDataAPI(`conversations?limit=${page * 9}`, auth.token)\n        \n        let newArr = [];\n        res.data.conversations.forEach(item => {\n            item.recipients.forEach(cv => {\n                if(cv._id !== auth.user._id){\n                    newArr.push({...cv, text: item.text, media: item.media, call: item.call})\n                }\n            })\n        })\n\n        dispatch({\n            type: MESS_TYPES.GET_CONVERSATIONS, \n            payload: {newArr, result: res.data.result}\n        })\n\n    } catch (err) {\n        dispatch({type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg}})\n    }\n}\n\nexport const getMessages = ({auth, id, page = 1}) => async (dispatch) => {\n    try {\n        const res = await getDataAPI(`message/${id}?limit=${page * 9}`, auth.token)\n        const newData = {...res.data, messages: res.data.messages.reverse()}\n\n        dispatch({type: MESS_TYPES.GET_MESSAGES, payload: {...newData, _id: id, page}})\n    } catch (err) {\n        dispatch({type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg}})\n    }\n}\n\nexport const loadMoreMessages = ({auth, id, page = 1}) => async (dispatch) => {\n    try {\n        const res = await getDataAPI(`message/${id}?limit=${page * 9}`, auth.token)\n        const newData = {...res.data, messages: res.data.messages.reverse()}\n\n        dispatch({type: MESS_TYPES.UPDATE_MESSAGES, payload: {...newData, _id: id, page}})\n    } catch (err) {\n        dispatch({type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg}})\n    }\n}\n\nexport const deleteMessages = ({msg, data, auth}) => async (dispatch) => {\n    const newData = DeleteData(data, msg._id)\n    dispatch({type: MESS_TYPES.DELETE_MESSAGES, payload: {newData, _id: msg.recipient}})\n    try {\n        await deleteDataAPI(`message/${msg._id}`, auth.token)\n    } catch (err) {\n        dispatch({type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg}})\n    }\n}\n\nexport const deleteConversation = ({auth, id}) => async (dispatch) => {\n    dispatch({type: MESS_TYPES.DELETE_CONVERSATION, payload: id})\n    try {\n        await deleteDataAPI(`conversation/${id}`, auth.token)\n    } catch (err) {\n        dispatch({type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg}})\n    }\n}","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 181;","import React from 'react'\n\nconst NotFound = () => {\n    return (\n        <div className=\"position-relative\" style={{minHeight: 'calc(100vh - 70px)'}}>\n            <h2 className=\"position-absolute text-secondary\"\n            style={{top: '50%', left: '50%', transform: 'translate(-50%, -50%)'}}>\n                404 | Not Found.\n            </h2>\n        </div>\n    )\n}\n\nexport default NotFound\n","import React from 'react'\nimport {useParams} from 'react-router-dom'\nimport NotFound from '../components/NotFound'\nimport { useSelector } from 'react-redux'\n\nconst generatePage = (pageName) => {\n    const component = () => require(`../pages/${pageName}`).default\n\n    try {\n        return React.createElement(component())\n    } catch (err) {\n        return <NotFound />\n    }\n}\n\nconst PageRender = () => {\n    const {page, id} = useParams()\n    const { auth } = useSelector(state => state)\n\n    let pageName = \"\";\n\n    if(auth.token){\n        if(id){\n            pageName = `${page}/[id]`\n        }else{\n            pageName = `${page}`\n        }\n    }\n\n    return generatePage(pageName)\n}\n\nexport default PageRender\n","import { Route, Redirect} from 'react-router-dom'\n\nconst PrivateRouter = (props) => {\n    const firstLogin = localStorage.getItem('firstLogin')\n    return firstLogin ? <Route {...props} /> : <Redirect to=\"/\" />\n}\n\nexport default PrivateRouter\n","import React from 'react'\n\nconst Loading = () => {\n    return (\n        <div className=\"position-fixed w-100 h-100 text-center loading\"\n        style={{background: \"#0008\", color: \"white\", top: 0, left: 0, zIndex: 50}}>\n\n            <svg width=\"205\" height=\"250\" viewBox=\"0 0 40 50\">\n                <polygon stroke=\"#fff\" strokeWidth=\"1\" fill=\"none\"\n                points=\"20,1 40,40 1,40\" />\n                <text fill=\"#fff\" x=\"5\" y=\"47\">Loading</text>\n            </svg>\n            \n        </div>\n    )\n}\n\nexport default Loading\n","import React from 'react'\n\nconst Toast = ({msg, handleShow, bgColor}) => {\n    return (\n        <div className={`toast show position-fixed text-light ${bgColor}`}\n        style={{top: '5px', right: '5px', minWidth: '200px', zIndex: 50}}>\n            <div className={`toast-header text-light ${bgColor}`}>\n                <strong className=\"mr-auto text-light\">{msg.title}</strong>\n                <button className=\"ml-2 mb-1 close text-light\"\n                data-dismiss=\"toast\" style={{outline: 'none'}}\n                onClick={handleShow}>\n                    &times;\n                </button>\n            </div>\n            <div className=\"toast-body\">\n                {msg.body}\n            </div>\n        </div>\n    )\n}\n\nexport default Toast\n","import React from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { GLOBALTYPES } from '../../redux/actions/globalTypes'\n\nimport Loading from './Loading'\nimport Toast from './Toast'\n\nconst Notify = () => {\n    const { alert } = useSelector(state => state)\n    const dispatch = useDispatch()\n\n    return (\n        <div>\n            {alert.loading && <Loading />}\n\n            {\n                alert.error && \n                <Toast msg={{title: 'Error', body: alert.error}}\n                handleShow={() => dispatch({type: GLOBALTYPES.ALERT, payload: {}})} \n                bgColor=\"bg-danger\" />\n            }\n\n            {\n                alert.success && \n                <Toast msg={{title: 'Success', body: alert.success}} \n                handleShow={() => dispatch({type: GLOBALTYPES.ALERT, payload: {}})}\n                bgColor=\"bg-success\" />\n            }\n        </div>\n    )\n}\n\nexport default Notify\n","import React from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport NoNotice from '../images/notice.png'\nimport { Link } from 'react-router-dom'\nimport Avatar from './Avatar'\nimport moment from 'moment'\nimport { isReadNotify, NOTIFY_TYPES, deleteAllNotifies } from '../redux/actions/notifyAction'\n\nconst NotifyModal = () => {\n    const { auth, notify } = useSelector(state => state)\n    const dispatch = useDispatch()\n\n    const handleIsRead = (msg) => {\n        dispatch(isReadNotify({msg, auth}))\n    }\n\n    const handleSound = () => {\n        dispatch({type: NOTIFY_TYPES.UPDATE_SOUND, payload: !notify.sound})\n    }\n\n    const handleDeleteAll = () => {\n        const newArr = notify.data.filter(item => item.isRead === false)\n        if(newArr.length === 0) return dispatch(deleteAllNotifies(auth.token))\n\n        if(window.confirm(`You have ${newArr.length} unread notices. Are you sure you want to delete all?`)){\n            return dispatch(deleteAllNotifies(auth.token))\n        }\n    }\n\n    return (\n        <div style={{minWidth: '300px'}}>\n            <div className=\"d-flex justify-content-between align-items-center px-3\">\n                <h3>Notification</h3>\n                {\n                    notify.sound \n                    ? <i className=\"fas fa-bell text-danger\" \n                    style={{fontSize: '1.2rem', cursor: 'pointer'}}\n                    onClick={handleSound} />\n\n                    : <i className=\"fas fa-bell-slash text-danger\"\n                    style={{fontSize: '1.2rem', cursor: 'pointer'}}\n                    onClick={handleSound} />\n                }\n            </div>\n            <hr className=\"mt-0\" />\n\n            {\n                notify.data.length === 0 &&\n                <img src={NoNotice} alt=\"NoNotice\" className=\"w-100\" />\n            }\n\n            <div style={{maxHeight: 'calc(100vh - 200px)', overflow: 'auto'}}>\n                {\n                    notify.data.map((msg, index) => (\n                        <div key={index} className=\"px-2 mb-3\" >\n                            <Link to={`${msg.url}`} className=\"d-flex text-dark align-items-center\"\n                            onClick={() => handleIsRead(msg)}>\n                                <Avatar src={msg.user.avatar} size=\"big-avatar\" />\n\n                                <div className=\"mx-1 flex-fill\">\n                                    <div>\n                                        <strong className=\"mr-1\">{msg.user.username}</strong>\n                                        <span>{msg.text}</span>\n                                    </div>\n                                    {msg.content && <small>{msg.content.slice(0,20)}...</small>}\n                                </div>\n\n                                {\n                                    msg.image &&\n                                    <div style={{width: '30px'}}>\n                                        {\n                                            msg.image.match(/video/i)\n                                            ? <video src={msg.image} width=\"100%\" />\n                                            : <Avatar src={msg.image} size=\"medium-avatar\" />\n                                        }\n                                    </div>\n                                }\n                                \n                            </Link>\n                            <small className=\"text-muted d-flex justify-content-between px-2\">\n                                {moment(msg.createdAt).fromNow()}\n                                {\n                                    !msg.isRead && <i className=\"fas fa-circle text-primary\" />\n                                }\n                            </small>\n                        </div>\n                    ))\n                }\n\n            </div>\n\n            <hr className=\"my-1\" />\n            <div className=\"text-right text-danger mr-2\" style={{cursor: 'pointer'}}\n            onClick={handleDeleteAll}>\n                Delete All\n            </div>\n\n        </div>\n    )\n}\n\nexport default NotifyModal\n","export default \"data:image/png;base64,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\"","import React from 'react'\nimport { Link, useLocation } from 'react-router-dom'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { logout } from '../../redux/actions/authAction'\nimport { GLOBALTYPES } from '../../redux/actions/globalTypes'\nimport Avatar from '../Avatar'\nimport NotifyModal from '../NotifyModal'\n\nconst Menu = () => {\n    const navLinks = [\n        { label: 'Home', icon: 'home', path: '/'},\n        { label: 'Message', icon: 'near_me', path: '/message'},\n        { label: 'Discover', icon: 'explore', path: '/discover'}\n    ]\n\n    const { auth, theme, notify } = useSelector(state => state)\n    const dispatch = useDispatch()\n    const { pathname } = useLocation()\n\n    const isActive = (pn) => {\n        if(pn === pathname) return 'active'\n    }\n\n    return (\n        <div className=\"menu\">\n            <ul className=\"navbar-nav flex-row\">\n                {\n                    navLinks.map((link, index) => (\n                        <li className={`nav-item px-2 ${isActive(link.path)}`} key={index}>\n                            <Link className=\"nav-link\" to={link.path}>\n                                <span className=\"material-icons\">{link.icon}</span>\n                            </Link>\n                        </li>\n                    ))\n                }\n\n                <li className=\"nav-item dropdown\" style={{opacity: 1}} >\n                    <span className=\"nav-link position-relative\" id=\"navbarDropdown\" \n                    role=\"button\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n\n                        <span className=\"material-icons\" \n                        style={{color: notify.data.length > 0 ? 'crimson' : ''}}>\n                            favorite\n                        </span>\n\n                        <span className=\"notify_length\">{notify.data.length}</span>\n\n                    </span>\n\n                    <div className=\"dropdown-menu\" aria-labelledby=\"navbarDropdown\"\n                    style={{transform: 'translateX(75px)'}}>\n                        <NotifyModal />\n                    </div>\n                        \n                </li>\n           \n            \n                <li className=\"nav-item dropdown\" style={{opacity: 1}} >\n                    <span className=\"nav-link dropdown-toggle\" id=\"navbarDropdown\" \n                    role=\"button\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n                        <Avatar src={auth.user.avatar} size=\"medium-avatar\" />\n                    </span>\n\n                    <div className=\"dropdown-menu\" aria-labelledby=\"navbarDropdown\">\n                    <Link className=\"dropdown-item\" to={`/profile/${auth.user._id}`}>Profile</Link>\n\n                    <label htmlFor=\"theme\" className=\"dropdown-item\"\n                    onClick={() => dispatch({\n                        type: GLOBALTYPES.THEME, payload: !theme\n                    })}>\n\n                        {theme ? 'Light mode' : 'Dark mode'}\n                    </label>\n\n                    <div className=\"dropdown-divider\"></div>\n                    <Link className=\"dropdown-item\" to=\"/\"\n                    onClick={() => dispatch(logout())}>\n                        Logout\n                    </Link>\n                </div>\n            </li>\n        </ul>\n    </div>\n\n    )\n}\n\nexport default Menu\n","import React, { useState } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { getDataAPI } from '../../utils/fetchData'\nimport { GLOBALTYPES } from '../../redux/actions/globalTypes'\nimport UserCard from '../UserCard'\nimport LoadIcon from '../../images/loading.gif'\n\nconst Search = () => {\n    const [search, setSearch] = useState('')\n    const [users, setUsers] = useState([])\n\n    const { auth } = useSelector(state => state)\n    const dispatch = useDispatch()\n    const [load, setLoad] = useState(false)\n\n\n    const handleSearch = async (e) => {\n        e.preventDefault()\n        if(!search) return;\n\n        try {\n            setLoad(true)\n            const res = await getDataAPI(`search?username=${search}`, auth.token)\n            setUsers(res.data.users)\n            setLoad(false)\n        } catch (err) {\n            dispatch({\n                type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg}\n            })\n        }\n    }\n\n    const handleClose = () => {\n        setSearch('')\n        setUsers([])\n    }\n\n    return (\n        <form className=\"search_form\" onSubmit={handleSearch}>\n            <input type=\"text\" name=\"search\" value={search} id=\"search\" title=\"Enter to Search\"\n            onChange={e => setSearch(e.target.value.toLowerCase().replace(/ /g, ''))} />\n\n            <div className=\"search_icon\" style={{opacity: search ? 0 : 0.3}}>\n                <span className=\"material-icons\">search</span>\n                <span>Enter to Search</span>\n            </div>\n\n            <div className=\"close_search\" onClick={handleClose}\n            style={{opacity: users.length === 0 ? 0 : 1}} >\n                &times;\n            </div>\n\n            <button type=\"submit\" style={{display: 'none'}}>Search</button>\n\n            { load && <img className=\"loading\" src={LoadIcon} alt=\"loading\"  /> }\n\n            <div className=\"users\">\n                {\n                    search && users.map(user => (\n                        <UserCard \n                        key={user._id} \n                        user={user} \n                        border=\"border\"\n                        handleClose={handleClose} \n                        />\n                    ))\n                }\n            </div>\n        </form>\n    )\n}\n\nexport default Search\n","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport Menu from './Menu'\nimport Search from './Search'\n\nconst Header = () => {\n\n    return (\n        <div className=\"header bg-light\">\n            <nav className=\"navbar navbar-expand-lg navbar-light \n            bg-light justify-content-between align-middle\">\n\n                <Link to=\"/\" className=\"logo\">\n                    <h1 className=\"navbar-brand text-uppercase p-0 m-0\"\n                    onClick={() => window.scrollTo({top: 0})}>\n                        SOCIALIZE\n                    </h1>\n                </Link>\n\n                <Search />\n\n                <Menu />\n            </nav>\n        </div>\n    )\n}\n\nexport default Header\n","import React, { useState, useRef, useEffect } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { GLOBALTYPES } from '../redux/actions/globalTypes'\nimport { createPost, updatePost } from '../redux/actions/postAction'\nimport Icons from './Icons'\nimport { imageShow, videoShow } from '../utils/mediaShow'\n\nconst StatusModal = () => {\n    const { auth, theme, status, socket } = useSelector(state => state)\n    const dispatch = useDispatch()\n\n    const [content, setContent] = useState('')\n    const [images, setImages] = useState([])\n\n    const [stream, setStream] = useState(false)\n    const videoRef = useRef()\n    const refCanvas = useRef()\n    const [tracks, setTracks] = useState('')\n\n    const handleChangeImages = e => {\n        const files = [...e.target.files]\n        let err = \"\"\n        let newImages = []\n\n        files.forEach(file => {\n            if(!file) return err = \"File does not exist.\"\n\n            if(file.size > 1024 * 1024 * 5){\n                return err = \"The image/video largest is 5mb.\"\n            }\n\n            return newImages.push(file)\n        })\n\n        if(err) dispatch({ type: GLOBALTYPES.ALERT, payload: {error: err} })\n        setImages([...images, ...newImages])\n    }\n\n    const deleteImages = (index) => {\n        const newArr = [...images]\n        newArr.splice(index, 1)\n        setImages(newArr)\n    }\n\n    const handleStream = () => {\n        setStream(true)\n        if(navigator.mediaDevices && navigator.mediaDevices.getUserMedia){\n            navigator.mediaDevices.getUserMedia({video: true})\n            .then(mediaStream => {\n                videoRef.current.srcObject = mediaStream\n                videoRef.current.play()\n\n                const track = mediaStream.getTracks()\n                setTracks(track[0])\n            }).catch(err => console.log(err))\n        }\n    }\n\n    const handleCapture = () => {\n        const width = videoRef.current.clientWidth;\n        const height = videoRef.current.clientHeight;\n\n        refCanvas.current.setAttribute(\"width\", width)\n        refCanvas.current.setAttribute(\"height\", height)\n\n        const ctx = refCanvas.current.getContext('2d')\n        ctx.drawImage(videoRef.current, 0, 0, width, height)\n        let URL = refCanvas.current.toDataURL()\n        setImages([...images, {camera: URL}])\n    }\n\n    const handleStopStream = () => {\n        tracks.stop()\n        setStream(false)\n    }\n\n    const handleSubmit = (e) => {\n        e.preventDefault()\n        if(images.length === 0)\n        return dispatch({ \n            type: GLOBALTYPES.ALERT, payload: {error: \"Please add your photo.\"}\n        })\n\n        if(status.onEdit){\n            dispatch(updatePost({content, images, auth, status}))\n        }else{\n            dispatch(createPost({content, images, auth, socket}))\n        }\n        \n\n        setContent('')\n        setImages([])\n        if(tracks) tracks.stop()\n        dispatch({ type: GLOBALTYPES.STATUS, payload: false})\n    }\n\n    useEffect(() => {\n        if(status.onEdit){\n            setContent(status.content)\n            setImages(status.images)\n        }\n    },[status])\n\n\n   \n\n    return (\n        <div className=\"status_modal\">\n            <form onSubmit={handleSubmit}>\n                <div className=\"status_header\">\n                    <h5 className=\"m-0\">Create Post</h5>\n                    <span onClick={() => dispatch({\n                        type: GLOBALTYPES.STATUS, payload: false\n                    })}>\n                        &times;\n                    </span>\n                </div>\n\n                <div className=\"status_body\">\n                    <textarea name=\"content\" value={content}\n                    placeholder={`${auth.user.username}, what are you thinking?`}\n                    onChange={e => setContent(e.target.value)}\n                    style={{\n                        filter: theme ? 'invert(1)' : 'invert(0)',\n                        color: theme ? 'white' : '#111',\n                        background: theme ? 'rgba(0,0,0,.03)' : '',\n                    }} />\n\n                    <div className=\"d-flex\">\n                        <div className=\"flex-fill\"></div>\n                        <Icons setContent={setContent} content={content} theme={theme} />\n                    </div>\n\n                    <div className=\"show_images\">\n                        {\n                            images.map((img, index) => (\n                                <div key={index} id=\"file_img\">\n                                    {\n                                        img.camera ? imageShow(img.camera, theme)\n                                        : img.url\n                                            ?<>\n                                                {\n                                                    img.url.match(/video/i)\n                                                    ? videoShow(img.url, theme) \n                                                    : imageShow(img.url, theme)\n                                                }\n                                            </>\n                                            :<>\n                                                {\n                                                    img.type.match(/video/i)\n                                                    ? videoShow(URL.createObjectURL(img), theme) \n                                                    : imageShow(URL.createObjectURL(img), theme)\n                                                }\n                                            </>\n                                    }\n                                    <span onClick={() => deleteImages(index)}>&times;</span>\n                                </div>\n                            ))\n                        }\n                    </div>\n\n                    {\n                        stream && \n                        <div className=\"stream position-relative\">\n                            <video autoPlay muted ref={videoRef} width=\"100%\" height=\"100%\"\n                            style={{filter: theme ? 'invert(1)' : 'invert(0)'}} />\n                            \n                            <span onClick={handleStopStream}>&times;</span>\n                            <canvas ref={refCanvas} style={{display: 'none'}} />\n                        </div>\n                    }\n\n                    <div className=\"input_images\">\n                        {\n                            stream \n                            ? <i className=\"fas fa-camera\" onClick={handleCapture} />\n                            : <>\n                                <i className=\"fas fa-camera\" onClick={handleStream} />\n\n                                <div className=\"file_upload\">\n                                    <i className=\"fas fa-image\" />\n                                    <input type=\"file\" name=\"file\" id=\"file\"\n                                    multiple accept=\"image/*,video/*\" onChange={handleChangeImages} />\n                                </div>\n                            </>\n                        }\n                        \n                    </div>\n\n                </div>\n\n                <div className=\"status_footer\">\n                    <button className=\"btn btn-secondary w-100\" type=\"submit\">\n                        Post\n                    </button>\n                </div>\n\n            </form>\n        </div>\n    )\n}\n\nexport default StatusModal\n","export default __webpack_public_path__ + \"static/media/got-it-done-613.89a311f0.mp3\";","import React, { useEffect, useRef } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { POST_TYPES } from './redux/actions/postAction'\nimport { GLOBALTYPES } from './redux/actions/globalTypes'\nimport { NOTIFY_TYPES } from './redux/actions/notifyAction'\nimport { MESS_TYPES } from './redux/actions/messageAction'\n\nimport audiobell from './audio/got-it-done-613.mp3'\n\n\nconst spawnNotification = (body, icon, url, title) => {\n    let options = {\n        body, icon\n    }\n    let n = new Notification(title, options)\n\n    n.onclick = e => {\n        e.preventDefault()\n        window.open(url, '_blank')\n    }\n}\n\nconst SocketClient = () => {\n    const { auth, socket, notify, online, call } = useSelector(state => state)\n    const dispatch = useDispatch()\n\n    const audioRef = useRef()\n\n    // joinUser\n    useEffect(() => {\n        socket.emit('joinUser', auth.user)\n    },[socket, auth.user])\n\n    // Likes\n    useEffect(() => {\n        socket.on('likeToClient', newPost =>{\n            dispatch({type: POST_TYPES.UPDATE_POST, payload: newPost})\n        })\n\n        return () => socket.off('likeToClient')\n    },[socket, dispatch])\n\n    useEffect(() => {\n        socket.on('unLikeToClient', newPost =>{\n            dispatch({type: POST_TYPES.UPDATE_POST, payload: newPost})\n        })\n\n        return () => socket.off('unLikeToClient')\n    },[socket, dispatch])\n\n\n    // Comments\n    useEffect(() => {\n        socket.on('createCommentToClient', newPost =>{\n            dispatch({type: POST_TYPES.UPDATE_POST, payload: newPost})\n        })\n\n        return () => socket.off('createCommentToClient')\n    },[socket, dispatch])\n\n    useEffect(() => {\n        socket.on('deleteCommentToClient', newPost =>{\n            dispatch({type: POST_TYPES.UPDATE_POST, payload: newPost})\n        })\n\n        return () => socket.off('deleteCommentToClient')\n    },[socket, dispatch])\n\n\n    // Follow\n    useEffect(() => {\n        socket.on('followToClient', newUser =>{\n            dispatch({type: GLOBALTYPES.AUTH, payload: {...auth, user: newUser}})\n        })\n\n        return () => socket.off('followToClient')\n    },[socket, dispatch, auth])\n\n    useEffect(() => {\n        socket.on('unFollowToClient', newUser =>{\n            dispatch({type: GLOBALTYPES.AUTH, payload: {...auth, user: newUser}})\n        })\n\n        return () => socket.off('unFollowToClient')\n    },[socket, dispatch, auth])\n\n\n    // Notification\n    useEffect(() => {\n        socket.on('createNotifyToClient', msg =>{\n            dispatch({type: NOTIFY_TYPES.CREATE_NOTIFY, payload: msg})\n\n            if(notify.sound) audioRef.current.play()\n            spawnNotification(\n                msg.user.username + ' ' + msg.text,\n                msg.user.avatar,\n                msg.url,\n                'V-NETWORK'\n            )\n        })\n\n        return () => socket.off('createNotifyToClient')\n    },[socket, dispatch, notify.sound])\n\n    useEffect(() => {\n        socket.on('removeNotifyToClient', msg =>{\n            dispatch({type: NOTIFY_TYPES.REMOVE_NOTIFY, payload: msg})\n        })\n\n        return () => socket.off('removeNotifyToClient')\n    },[socket, dispatch])\n\n\n    // Message\n    useEffect(() => {\n        socket.on('addMessageToClient', msg =>{\n            dispatch({type: MESS_TYPES.ADD_MESSAGE, payload: msg})\n\n            dispatch({\n                type: MESS_TYPES.ADD_USER, \n                payload: {\n                    ...msg.user, \n                    text: msg.text, \n                    media: msg.media\n                }\n            })\n        })\n\n        return () => socket.off('addMessageToClient')\n    },[socket, dispatch])\n\n    // Check User Online / Offline\n    useEffect(() => {\n        socket.emit('checkUserOnline', auth.user)\n    },[socket, auth.user])\n\n    useEffect(() => {\n        socket.on('checkUserOnlineToMe', data =>{\n            data.forEach(item => {\n                if(!online.includes(item.id)){\n                    dispatch({type: GLOBALTYPES.ONLINE, payload: item.id})\n                }\n            })\n        })\n\n        return () => socket.off('checkUserOnlineToMe')\n    },[socket, dispatch, online])\n\n    useEffect(() => {\n        socket.on('checkUserOnlineToClient', id =>{\n            if(!online.includes(id)){\n                dispatch({type: GLOBALTYPES.ONLINE, payload: id})\n            }\n        })\n\n        return () => socket.off('checkUserOnlineToClient')\n    },[socket, dispatch, online])\n\n    // Check User Offline\n    useEffect(() => {\n        socket.on('CheckUserOffline', id =>{\n            dispatch({type: GLOBALTYPES.OFFLINE, payload: id})\n        })\n\n        return () => socket.off('CheckUserOffline')\n    },[socket, dispatch])\n\n\n    // Call User\n    useEffect(() => {\n        socket.on('callUserToClient', data =>{\n            dispatch({type: GLOBALTYPES.CALL, payload: data})\n        })\n\n        return () => socket.off('callUserToClient')\n    },[socket, dispatch])\n\n    useEffect(() => {\n        socket.on('userBusy', data =>{\n            dispatch({type: GLOBALTYPES.ALERT, payload: {error: `${call.username} is busy!`}})\n        })\n\n        return () => socket.off('userBusy')\n    },[socket, dispatch, call])\n\n\n\n    return (\n        <>\n            <audio controls ref={audioRef} style={{display: 'none'}} >\n                <source src={audiobell} type=\"audio/mp3\" />\n            </audio>\n        </>\n    )\n}\n\nexport default SocketClient\n","export default __webpack_public_path__ + \"static/media/ringring.278d7816.mp3\";","import React, { useState, useEffect, useRef, useCallback } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport Avatar from '../Avatar'\nimport { GLOBALTYPES } from '../../redux/actions/globalTypes'\nimport { addMessage } from '../../redux/actions/messageAction'\nimport RingRing from '../../audio/ringring.mp3'\n\nconst CallModal = () => {\n    const { call, auth, peer, socket, theme } = useSelector(state => state)\n    const dispatch = useDispatch()\n\n    const [hours, setHours] = useState(0)\n    const [mins, setMins] = useState(0)\n    const [second, setSecond] = useState(0)\n    const [total, setTotal] = useState(0)\n\n    const [answer, setAnswer] = useState(false)\n    const youVideo = useRef()\n    const otherVideo = useRef()\n    const [tracks, setTracks] = useState(null)\n    const [newCall, setNewCall] = useState(null)\n\n    // Set Time\n    useEffect(() => {\n        const setTime = () => {\n            setTotal(t => t + 1)\n            setTimeout(setTime, 1000)\n        }\n        setTime()\n\n        return () => setTotal(0)\n    },[])\n\n    useEffect(() => {\n        setSecond(total%60)\n        setMins(parseInt(total/60))\n        setHours(parseInt(total/3600))\n    },[total])\n\n\n    // End Call\n    const addCallMessage = useCallback((call, times, disconnect) => {\n        if(call.recipient !== auth.user._id || disconnect){\n            const msg = {\n                sender: call.sender,\n                recipient: call.recipient,\n                text: '', \n                media: [],\n                call: {video: call.video, times},\n                createdAt: new Date().toISOString()\n            }\n            dispatch(addMessage({msg, auth, socket}))\n        }\n    },[auth, dispatch, socket])\n\n    const handleEndCall = () => {\n        tracks && tracks.forEach(track => track.stop())\n        if(newCall) newCall.close()\n        let times = answer ? total : 0\n        socket.emit('endCall', {...call, times})\n        \n        addCallMessage(call, times)\n        dispatch({type: GLOBALTYPES.CALL, payload: null })\n    }\n\n    useEffect(() => {\n        if(answer){\n            setTotal(0)\n        }else{\n            const timer = setTimeout(() => {\n                socket.emit('endCall', {...call, times: 0})\n                addCallMessage(call, 0)\n                dispatch({type: GLOBALTYPES.CALL, payload: null })\n            }, 15000)\n    \n            return () => clearTimeout(timer)\n        }\n        \n    },[dispatch, answer, call, socket, addCallMessage])\n\n    useEffect(() => {\n        socket.on('endCallToClient', data => {\n            tracks && tracks.forEach(track => track.stop())\n            if(newCall) newCall.close()\n            addCallMessage(data, data.times)\n            dispatch({ type: GLOBALTYPES.CALL, payload: null })\n        })\n\n        return () => socket.off('endCallToClient')\n    },[socket, dispatch, tracks, addCallMessage, newCall])\n\n\n    // Stream Media\n    const openStream = (video) => {\n        const config = { audio: true, video }\n        return navigator.mediaDevices.getUserMedia(config)\n    }\n\n    const playStream = (tag, stream) => {\n        let video = tag;\n        video.srcObject = stream;\n        video.play()\n    }\n\n    // Answer Call\n    const handleAnswer = () => {\n        openStream(call.video).then(stream => {\n            playStream(youVideo.current, stream)\n            const track = stream.getTracks()\n            setTracks(track)\n            \n            const newCall = peer.call(call.peerId, stream);\n            newCall.on('stream', function(remoteStream) {\n                playStream(otherVideo.current, remoteStream)\n            });\n            setAnswer(true)\n            setNewCall(newCall)\n        })\n    }\n\n    useEffect(() => {\n        peer.on('call', newCall => {\n            openStream(call.video).then(stream => {\n                if(youVideo.current){\n                    playStream(youVideo.current, stream)\n                }\n                const track = stream.getTracks()\n                setTracks(track)\n                \n                newCall.answer(stream)\n                newCall.on('stream', function(remoteStream) {\n                    if(otherVideo.current){\n                        playStream(otherVideo.current, remoteStream)\n                    }\n                });\n                setAnswer(true) \n                setNewCall(newCall)\n            })\n        })\n        return () => peer.removeListener('call')\n    },[peer, call.video])\n\n    // Disconnect\n    useEffect(() => {\n        socket.on('callerDisconnect', () => {\n            tracks && tracks.forEach(track => track.stop())\n            if(newCall) newCall.close()\n            let times = answer ? total : 0\n            addCallMessage(call, times, true)\n\n            dispatch({type: GLOBALTYPES.CALL, payload: null })\n\n            dispatch({\n                type: GLOBALTYPES.ALERT, \n                payload: {error: `The ${call.username} disconnect`} \n            })\n        })\n\n        return () => socket.off('callerDisconnect')\n    },[socket, tracks, dispatch, call, addCallMessage, answer, total, newCall])\n\n    // Play - Pause Audio\n    const playAudio = (newAudio) => {\n        newAudio.play()\n    }\n\n    const pauseAudio = (newAudio) => {\n        newAudio.pause()\n        newAudio.currentTime = 0\n    }\n\n    useEffect(() => {\n        let newAudio = new Audio(RingRing)\n        if(answer){\n            pauseAudio(newAudio)\n        }else{\n            playAudio(newAudio)\n        }\n\n        return () => pauseAudio(newAudio)\n    },[answer])\n\n\n    return (\n        <div className=\"call_modal\">\n            <div className=\"call_box\" style={{\n                display: (answer && call.video) ? 'none' : 'flex'\n            }} >\n\n                <div className=\"text-center\" style={{padding: '40px 0'}} >\n                    <Avatar src={call.avatar} size=\"supper-avatar\" />\n                    <h4>{call.username}</h4>\n                    <h6>{call.fullname}</h6>\n\n                    {\n                        answer \n                        ? <div>\n                            <span>{ hours.toString().length < 2 ? '0' + hours : hours }</span>\n                            <span>:</span>\n                            <span>{ mins.toString().length < 2 ? '0' + mins : mins }</span>\n                            <span>:</span>\n                            <span>{ second.toString().length < 2 ? '0' + second : second }</span>\n                        </div>\n                        : <div>\n                            {\n                                call.video\n                                ? <span>calling video...</span>\n                                : <span>calling audio...</span>\n                            }\n                        </div>\n                    }\n                    \n                </div>\n                \n                {\n                    !answer && \n                    <div className=\"timer\">\n                        <small>{ mins.toString().length < 2 ? '0' + mins : mins }</small>\n                        <small>:</small>\n                        <small>{ second.toString().length < 2 ? '0' + second : second }</small>\n                    </div>\n                }\n                \n\n                <div className=\"call_menu\">\n                    <button className=\"material-icons text-danger\"\n                    onClick={handleEndCall}>\n                        call_end\n                    </button>\n                    \n                    {\n                        (call.recipient === auth.user._id && !answer) &&\n                        <>\n                            {\n                                call.video\n                                ? <button className=\"material-icons text-success\"\n                                onClick={handleAnswer}>\n                                    videocam\n                                </button>\n                                : <button className=\"material-icons text-success\"\n                                onClick={handleAnswer}>\n                                    call\n                                </button>\n                            }\n                        </>\n                    }\n                    \n                </div>\n                \n            </div>\n\n            <div className=\"show_video\" style={{\n                opacity: (answer && call.video) ? '1' : '0',\n                filter: theme ? 'invert(1)' : 'invert(0)'\n            }} >\n\n                <video ref={youVideo} className=\"you_video\" playsInline muted />\n                <video ref={otherVideo} className=\"other_video\" playsInline />\n\n                <div className=\"time_video\">\n                    <span>{ hours.toString().length < 2 ? '0' + hours : hours }</span>\n                    <span>:</span>\n                    <span>{ mins.toString().length < 2 ? '0' + mins : mins }</span>\n                    <span>:</span>\n                    <span>{ second.toString().length < 2 ? '0' + second : second }</span>\n                </div>\n\n                <button className=\"material-icons text-danger end_call\"\n                onClick={handleEndCall}>\n                    call_end\n                </button>\n\n            </div>\n\n        </div>\n    )\n}\n\nexport default CallModal\n","import { useEffect } from 'react'\nimport {BrowserRouter as Router, Route} from 'react-router-dom'\n\nimport PageRender from './customRouter/PageRender'\nimport PrivateRouter from './customRouter/PrivateRouter'\n\nimport Home from './pages/home'\nimport Login from './pages/login'\nimport Register from './pages/register'\n\nimport Alert from './components/alert/Alert'\nimport Header from './components/header/Header'\nimport StatusModal from './components/StatusModal'\n\nimport { useSelector, useDispatch } from 'react-redux'\nimport { refreshToken } from './redux/actions/authAction'\nimport { getPosts } from './redux/actions/postAction'\nimport { getSuggestions } from './redux/actions/suggestionsAction'\n\nimport io from 'socket.io-client'\nimport { GLOBALTYPES } from './redux/actions/globalTypes'\nimport SocketClient from './SocketClient'\n\nimport { getNotifies } from './redux/actions/notifyAction'\nimport CallModal from './components/message/CallModal'\nimport Peer from 'peerjs'\n\nfunction App() {\n  const { auth, status, modal, call } = useSelector(state => state)\n  const dispatch = useDispatch()\n\n  useEffect(() => {\n    dispatch(refreshToken())\n\n    const socket = io()\n    dispatch({type: GLOBALTYPES.SOCKET, payload: socket})\n    return () => socket.close()\n  },[dispatch])\n\n  useEffect(() => {\n    if(auth.token) {\n      dispatch(getPosts(auth.token))\n      dispatch(getSuggestions(auth.token))\n      dispatch(getNotifies(auth.token))\n    }\n  }, [dispatch, auth.token])\n\n  \n  useEffect(() => {\n    if (!(\"Notification\" in window)) {\n      alert(\"This browser does not support desktop notification\");\n    }\n    else if (Notification.permission === \"granted\") {}\n    else if (Notification.permission !== \"denied\") {\n      Notification.requestPermission().then(function (permission) {\n        if (permission === \"granted\") {}\n      });\n    }\n  },[])\n\n \n  useEffect(() => {\n    const newPeer = new Peer(undefined, {\n      path: '/', secure: true\n    })\n    \n    dispatch({ type: GLOBALTYPES.PEER, payload: newPeer })\n  },[dispatch])\n\n\n  return (\n    <Router>\n      <Alert />\n\n      <input type=\"checkbox\" id=\"theme\" />\n      <div className={`App ${(status || modal) && 'mode'}`}>\n        <div className=\"main\">\n          {auth.token && <Header />}\n          {status && <StatusModal />}\n          {auth.token && <SocketClient />}\n          {call && <CallModal />}\n          \n          <Route exact path=\"/\" component={auth.token ? Home : Login} />\n          <Route exact path=\"/register\" component={Register} />\n\n          <PrivateRouter exact path=\"/:page\" component={PageRender} />\n          <PrivateRouter exact path=\"/:page/:id\" component={PageRender} />\n          \n        </div>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { GLOBALTYPES } from '../actions/globalTypes'\n\nconst initialState = {}\n\nconst authReducer = (state = initialState, action) => {\n    switch (action.type){\n        case GLOBALTYPES.AUTH:\n            return action.payload;\n        default:\n            return state;\n    }\n}\n\n\nexport default authReducer","import { GLOBALTYPES } from '../actions/globalTypes'\n\nconst initialState = {}\n\nconst alertReducer = (state = initialState, action) => {\n    switch (action.type){\n        case GLOBALTYPES.ALERT:\n            return action.payload;\n        default:\n            return state;\n    }\n}\n\n\nexport default alertReducer\n","import { GLOBALTYPES } from '../actions/globalTypes'\n\nconst initialState = false\n\nconst themeReducer = (state = initialState, action) => {\n    switch (action.type){\n        case GLOBALTYPES.THEME:\n            return action.payload;\n        default:\n            return state;\n    }\n}\n\n\nexport default themeReducer","import { PROFILE_TYPES } from '../actions/profileAction'\nimport { EditData } from '../actions/globalTypes'\n\nconst initialState = {\n    loading: false,\n    ids: [],\n    users: [],\n    posts: []\n}\n\nconst profileReducer = (state = initialState, action) => {\n    switch (action.type){\n        case PROFILE_TYPES.LOADING:\n            return {\n                ...state,\n                loading: action.payload\n            };\n        case PROFILE_TYPES.GET_USER:\n            return {\n                ...state,\n                users: [...state.users, action.payload.user]\n            };\n        case PROFILE_TYPES.FOLLOW:\n            return {\n                ...state,\n                users: EditData(state.users, action.payload._id, action.payload)\n            };\n        case PROFILE_TYPES.UNFOLLOW:\n            return {\n                ...state,\n                users: EditData(state.users, action.payload._id, action.payload)\n            };\n        case PROFILE_TYPES.GET_ID:\n            return {\n                ...state,\n                ids: [...state.ids, action.payload]\n            };\n        case PROFILE_TYPES.GET_POSTS:\n            return {\n                ...state,\n                posts: [...state.posts, action.payload]\n            };\n        case PROFILE_TYPES.UPDATE_POST:\n            return {\n                ...state,\n                posts: EditData(state.posts, action.payload._id, action.payload)\n            };\n        default:\n            return state;\n    }\n}\n\nexport default profileReducer","import { GLOBALTYPES } from '../actions/globalTypes'\n\n\nconst statusReducer = (state = false, action) => {\n    switch (action.type){\n        case GLOBALTYPES.STATUS:\n            return action.payload;\n        default:\n            return state;\n    }\n}\n\n\nexport default statusReducer","import { POST_TYPES } from '../actions/postAction'\nimport { EditData, DeleteData } from '../actions/globalTypes'\n\nconst initialState = {\n    loading: false,\n    posts: [],\n    result: 0,\n    page: 2\n}\n\nconst postReducer = (state = initialState, action) => {\n    switch (action.type){\n        case POST_TYPES.CREATE_POST:\n            return {\n                ...state,\n                posts: [action.payload, ...state.posts]\n            };\n        case POST_TYPES.LOADING_POST:\n            return {\n                ...state,\n                loading: action.payload\n            };\n        case POST_TYPES.GET_POSTS:\n            return {\n                ...state,\n                posts: action.payload.posts,\n                result: action.payload.result,\n                page: action.payload.page\n            };\n        case POST_TYPES.UPDATE_POST:\n            return {\n                ...state,\n                posts: EditData(state.posts, action.payload._id, action.payload)\n            };\n        case POST_TYPES.DELETE_POST:\n            return {\n                ...state,\n                posts: DeleteData(state.posts, action.payload._id)\n            };\n        default:\n            return state;\n    }\n}\n\nexport default postReducer","import { GLOBALTYPES } from '../actions/globalTypes'\n\nconst initialState = false\n\nconst modalReducer = (state = initialState, action) => {\n    switch (action.type){\n        case GLOBALTYPES.MODAL:\n            return action.payload;\n        default:\n            return state;\n    }\n}\n\n\nexport default modalReducer","import { POST_TYPES } from '../actions/postAction'\nimport { EditData } from '../actions/globalTypes'\n\nconst detailPostReducer = (state = [], action) => {\n    switch (action.type){\n        case POST_TYPES.GET_POST:\n            return [...state, action.payload]\n        case POST_TYPES.UPDATE_POST:\n            return EditData(state, action.payload._id, action.payload)\n        default:\n            return state;\n    }\n}\n\n\nexport default detailPostReducer","import { DISCOVER_TYPES } from '../actions/discoverAction'\n\nconst initialState = {\n    loading: false,\n    posts: [],\n    result: 9,\n    page: 2,\n    firstLoad: false\n}\n\nconst discoverReducer = (state = initialState, action) => {\n    switch (action.type){\n        case DISCOVER_TYPES.LOADING:\n            return {\n                ...state,\n                loading: action.payload\n            };\n        case DISCOVER_TYPES.GET_POSTS:\n            return {\n                ...state,\n                posts: action.payload.posts,\n                result: action.payload.result,\n                firstLoad: true\n            };\n        case DISCOVER_TYPES.UPDATE_POST:\n            return {\n                ...state,\n                posts: action.payload.posts,\n                result: action.payload.result,\n                page: state.page + 1\n            };\n        default:\n            return state;\n    }\n}\n\nexport default discoverReducer\n","import { SUGGES_TYPES } from '../actions/suggestionsAction'\n\nconst initialState = {\n    loading: false,\n    users: []\n}\n\n\nconst suggestionsReducer = (state = initialState, action) => {\n    switch (action.type){\n        case SUGGES_TYPES.LOADING:\n            return {\n                ...state,\n                loading: action.payload\n            };\n        case SUGGES_TYPES.GET_USERS:\n            return {\n                ...state,\n                users: action.payload.users\n            };\n        default:\n            return state;\n    }\n}\n\nexport default suggestionsReducer\n","import { GLOBALTYPES } from '../actions/globalTypes'\n\n\nconst socketReducer = (state = [], action) => {\n    switch (action.type){\n        case GLOBALTYPES.SOCKET:\n            return action.payload;\n        default:\n            return state;\n    }\n}\n\n\nexport default socketReducer","import { NOTIFY_TYPES } from '../actions/notifyAction'\nimport { EditData } from '../actions/globalTypes'\n\nconst initialState = {\n    loading: false,\n    data: [],\n    sound: false\n}\n\nconst notifyReducer = (state = initialState, action) => {\n    switch (action.type){\n        case NOTIFY_TYPES.GET_NOTIFIES:\n            return {\n                ...state,\n                data: action.payload\n            };\n        case NOTIFY_TYPES.CREATE_NOTIFY:\n            return {\n                ...state,\n                data: [action.payload, ...state.data]\n            };\n        case NOTIFY_TYPES.REMOVE_NOTIFY:\n            return {\n                ...state,\n                data: state.data.filter(item => (\n                    item.id !== action.payload.id || item.url !== action.payload.url\n                ))\n            };\n        case NOTIFY_TYPES.UPDATE_NOTIFY:\n            return {\n                ...state,\n                data: EditData(state.data, action.payload._id, action.payload)\n            };\n        case NOTIFY_TYPES.UPDATE_SOUND:\n            return {\n                ...state,\n                sound: action.payload\n            };\n        case NOTIFY_TYPES.DELETE_ALL_NOTIFIES:\n            return {\n                ...state,\n                data: action.payload\n            };\n        default:\n            return state;\n    }\n}\n\n\nexport default notifyReducer","import { MESS_TYPES } from '../actions/messageAction'\nimport { EditData, DeleteData } from '../actions/globalTypes'\n\nconst initialState = {\n    users: [],\n    resultUsers: 0,\n    data: [],\n    firstLoad: false\n}\n\nconst messageReducer = (state = initialState, action) => {\n    switch (action.type){\n        case MESS_TYPES.ADD_USER:\n            if(state.users.every(item => item._id !== action.payload._id)){\n                return {\n                    ...state,\n                    users: [action.payload, ...state.users]\n                };\n            }\n            return state;\n        case MESS_TYPES.ADD_MESSAGE:\n            return {\n                ...state,\n                data: state.data.map(item => \n                    item._id === action.payload.recipient || item._id === action.payload.sender \n                    ? {\n                        ...item,\n                        messages: [...item.messages, action.payload],\n                        result: item.result + 1\n                    }\n                    : item\n                ),\n                users: state.users.map(user => \n                    user._id === action.payload.recipient || user._id === action.payload.sender\n                    ? {\n                        ...user, \n                        text: action.payload.text, \n                        media: action.payload.media,\n                        call: action.payload.call\n                    }\n                    : user\n                )\n            };\n        case MESS_TYPES.GET_CONVERSATIONS:\n            return {\n                ...state,\n                users: action.payload.newArr,\n                resultUsers: action.payload.result,\n                firstLoad: true\n            };\n        case MESS_TYPES.GET_MESSAGES:\n            return {\n                ...state,\n                data: [...state.data, action.payload]\n            };\n        case MESS_TYPES.UPDATE_MESSAGES:\n            return {\n                ...state,\n                data: EditData(state.data, action.payload._id, action.payload)\n            };\n        case MESS_TYPES.DELETE_MESSAGES:\n            return {\n                ...state,\n                data: state.data.map(item => \n                    item._id === action.payload._id\n                    ? {...item, messages: action.payload.newData}\n                    : item\n                )\n            };\n        case MESS_TYPES.DELETE_CONVERSATION:\n            return {\n                ...state,\n                users: DeleteData(state.users, action.payload),\n                data: DeleteData(state.data, action.payload)\n            };\n        case MESS_TYPES.CHECK_ONLINE_OFFLINE:\n            return {\n                ...state,\n                users: state.users.map(user => \n                    action.payload.includes(user._id)\n                    ? {...user, online: true}\n                    : {...user, online: false}\n                )\n            };\n        default:\n            return state;\n    }\n}\n\nexport default messageReducer;","import { GLOBALTYPES } from '../actions/globalTypes'\n\n\nconst onlineReducer = (state = [], action) => {\n    switch (action.type){\n        case GLOBALTYPES.ONLINE:\n            return [...state, action.payload];\n        case GLOBALTYPES.OFFLINE:\n            return state.filter(item => item !== action.payload)\n        default:\n            return state;\n    }\n}\n\n\nexport default onlineReducer","import { GLOBALTYPES } from '../actions/globalTypes'\n\n\nconst callReducer = (state = null, action) => {\n    switch (action.type){\n        case GLOBALTYPES.CALL:\n            return action.payload;\n        default:\n            return state;\n    }\n}\n\n\nexport default callReducer","import { GLOBALTYPES } from '../actions/globalTypes'\n\n\nconst peerReducer = (state = null, action) => {\n    switch (action.type){\n        case GLOBALTYPES.PEER:\n            return action.payload;\n        default:\n            return state;\n    }\n}\n\n\nexport default peerReducer","import { combineReducers } from 'redux'\nimport auth from './authReducer'\nimport alert from './alertReducer'\nimport theme from './themeReducer'\nimport profile from './profileReducer'\nimport status from './statusReducer'\nimport homePosts from './postReducer'\nimport modal from './modalReducer'\nimport detailPost from './detailPostReducer'\nimport discover from './discoverReducer'\nimport suggestions from './suggestionsReducer'\nimport socket from './socketReducer'\nimport notify from './notifyReducer'\nimport message from './messageReducer'\nimport online from './onlineReducer'\nimport call from './callReducer'\nimport peer from './peerReducer'\n\n\nexport default combineReducers({\n    auth,\n    alert,\n    theme,\n    profile,\n    status,\n    homePosts,\n    modal,\n    detailPost,\n    discover,\n    suggestions,\n    socket,\n    notify,\n    message,\n    online,\n    call,\n    peer\n})","import { createStore, applyMiddleware } from 'redux'\nimport { Provider } from 'react-redux'\nimport thunk from 'redux-thunk'\n\nimport rootReducer from './reducers/index'\n\nimport { composeWithDevTools } from 'redux-devtools-extension'\n\nconst store = createStore(\n    rootReducer,\n    composeWithDevTools(applyMiddleware(thunk))\n)\n\nconst DataProvider = ({children}) => {\n    return(\n        <Provider store={store}>\n            {children}\n        </Provider>\n    )\n}\n\nexport default DataProvider","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/global.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport DataProvider from './redux/store'\n\nReactDOM.render(\n  <React.StrictMode>\n    <DataProvider>\n      <App />\n    </DataProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","export default __webpack_public_path__ + \"static/media/loading.10625dac.gif\";","import React from 'react'\nimport { useSelector } from 'react-redux'\n\nconst Avatar = ({src, size}) => {\n    const { theme } = useSelector(state => state)\n\n    return (\n        <img src={src} alt=\"avatar\" className={size}\n        style={{filter: `${theme ? 'invert(1)' : 'invert(0)'}`}} />\n    )\n}\n\nexport default Avatar\n","import { GLOBALTYPES, DeleteData } from './globalTypes'\nimport { getDataAPI, patchDataAPI } from '../../utils/fetchData'\nimport { imageUpload } from '../../utils/imageUpload'\nimport { createNotify, removeNotify } from '../actions/notifyAction'\n\n\nexport const PROFILE_TYPES = {\n    LOADING: 'LOADING_PROFILE',\n    GET_USER: 'GET_PROFILE_USER',\n    FOLLOW: 'FOLLOW',\n    UNFOLLOW: 'UNFOLLOW',\n    GET_ID: 'GET_PROFILE_ID',\n    GET_POSTS: 'GET_PROFILE_POSTS',\n    UPDATE_POST: 'UPDATE_PROFILE_POST'\n}\n\n\nexport const getProfileUsers = ({id, auth}) => async (dispatch) => {\n    dispatch({type: PROFILE_TYPES.GET_ID, payload: id})\n\n    try {\n        dispatch({type: PROFILE_TYPES.LOADING, payload: true})\n        const res = getDataAPI(`/user/${id}`, auth.token)\n        const res1 = getDataAPI(`/user_posts/${id}`, auth.token)\n        \n        const users = await res;\n        const posts = await res1;\n\n        dispatch({\n            type: PROFILE_TYPES.GET_USER,\n            payload: users.data\n        })\n\n        dispatch({\n            type: PROFILE_TYPES.GET_POSTS,\n            payload: {...posts.data, _id: id, page: 2}\n        })\n\n        dispatch({type: PROFILE_TYPES.LOADING, payload: false})\n    } catch (err) {\n        dispatch({\n            type: GLOBALTYPES.ALERT, \n            payload: {error: err.response.data.msg}\n        })\n    }\n    \n}\n\n\nexport const updateProfileUser = ({userData, avatar, auth}) => async (dispatch) => {\n    if(!userData.fullname)\n    return dispatch({type: GLOBALTYPES.ALERT, payload: {error: \"Please add your full name.\"}})\n\n    if(userData.fullname.length > 25)\n    return dispatch({type: GLOBALTYPES.ALERT, payload: {error: \"Your full name too long.\"}})\n\n    if(userData.story.length > 200)\n    return dispatch({type: GLOBALTYPES.ALERT, payload: {error: \"Your story too long.\"}})\n\n    try {\n        let media;\n        dispatch({type: GLOBALTYPES.ALERT, payload: {loading: true}})\n\n        if(avatar) media = await imageUpload([avatar])\n\n        const res = await patchDataAPI(\"user\", {\n            ...userData,\n            avatar: avatar ? media[0].url : auth.user.avatar\n        }, auth.token)\n\n        dispatch({\n            type: GLOBALTYPES.AUTH,\n            payload: {\n                ...auth,\n                user: {\n                    ...auth.user, ...userData,\n                    avatar: avatar ? media[0].url : auth.user.avatar,\n                }\n            }\n        })\n\n        dispatch({type: GLOBALTYPES.ALERT, payload: {success: res.data.msg}})\n    } catch (err) {\n        dispatch({\n            type: GLOBALTYPES.ALERT, \n            payload: {error: err.response.data.msg}\n        })\n    }\n}\n\nexport const follow = ({users, user, auth, socket}) => async (dispatch) => {\n    let newUser;\n    \n    if(users.every(item => item._id !== user._id)){\n        newUser = {...user, followers: [...user.followers, auth.user]}\n    }else{\n        users.forEach(item => {\n            if(item._id === user._id){\n                newUser = {...item, followers: [...item.followers, auth.user]}\n            }\n        })\n    }\n\n    dispatch({ type: PROFILE_TYPES.FOLLOW, payload: newUser })\n\n    dispatch({\n        type: GLOBALTYPES.AUTH, \n        payload: {\n            ...auth,\n            user: {...auth.user, following: [...auth.user.following, newUser]}\n        }\n    })\n\n\n    try {\n        const res = await patchDataAPI(`user/${user._id}/follow`, null, auth.token)\n        socket.emit('follow', res.data.newUser)\n\n        // Notify\n        const msg = {\n            id: auth.user._id,\n            text: 'has started to follow you.',\n            recipients: [newUser._id],\n            url: `/profile/${auth.user._id}`,\n        }\n\n        dispatch(createNotify({msg, auth, socket}))\n\n    } catch (err) {\n        dispatch({\n            type: GLOBALTYPES.ALERT, \n            payload: {error: err.response.data.msg}\n        })\n    }\n}\n\nexport const unfollow = ({users, user, auth, socket}) => async (dispatch) => {\n\n    let newUser;\n\n    if(users.every(item => item._id !== user._id)){\n        newUser = {...user, followers: DeleteData(user.followers, auth.user._id)}\n    }else{\n        users.forEach(item => {\n            if(item._id === user._id){\n                newUser = {...item, followers: DeleteData(item.followers, auth.user._id)}\n            }\n        })\n    }\n\n    dispatch({ type: PROFILE_TYPES.UNFOLLOW, payload: newUser })\n\n    dispatch({\n        type: GLOBALTYPES.AUTH, \n        payload: {\n            ...auth,\n            user: { \n                ...auth.user, \n                following: DeleteData(auth.user.following, newUser._id) \n            }\n        }\n    })\n   \n\n    try {\n        const res = await patchDataAPI(`user/${user._id}/unfollow`, null, auth.token)\n        socket.emit('unFollow', res.data.newUser)\n\n        // Notify\n        const msg = {\n            id: auth.user._id,\n            text: 'has started to follow you.',\n            recipients: [newUser._id],\n            url: `/profile/${auth.user._id}`,\n        }\n\n        dispatch(removeNotify({msg, auth, socket}))\n\n    } catch (err) {\n        dispatch({\n            type: GLOBALTYPES.ALERT, \n            payload: {error: err.response.data.msg}\n        })\n    }\n}","import React from 'react'\nimport Avatar from './Avatar'\nimport { Link } from 'react-router-dom'\nimport { useSelector } from 'react-redux'\n\nconst UserCard = ({children, user, border, handleClose, setShowFollowers, setShowFollowing, msg}) => {\n\n    const { theme } = useSelector(state => state)\n\n    const handleCloseAll = () => {\n        if(handleClose) handleClose()\n        if(setShowFollowers) setShowFollowers(false)\n        if(setShowFollowing) setShowFollowing(false)\n    }\n\n    const showMsg = (user) => {\n        return(\n            <>\n                <div style={{filter: theme ? 'invert(1)' : 'invert(0)'}}>\n                    {user.text}\n                </div>\n                {\n                    user.media.length > 0 && \n                    <div>\n                        {user.media.length} <i className=\"fas fa-image\" />\n                    </div>\n                }\n\n                {\n                    user.call &&\n                    <span className=\"material-icons\">\n                        {\n                            user.call.times === 0\n                            ? user.call.video ? 'videocam_off' : 'phone_disabled'\n                            : user.call.video ? 'video_camera_front' : 'call'\n                        }\n                    </span>\n                }\n            </>\n        )\n    }\n\n\n    return (\n        <div className={`d-flex p-2 align-items-center justify-content-between w-100 ${border}`}>\n            <div>\n                <Link to={`/profile/${user._id}`} onClick={handleCloseAll}\n                className=\"d-flex align-items-center\">\n                    \n                    <Avatar src={user.avatar} size=\"big-avatar\" />\n\n                    <div className=\"ml-1\" style={{transform: 'translateY(-2px)'}}>\n                        <span className=\"d-block\">{user.username}</span>\n                        \n                        <small style={{opacity: 0.7}}>\n                            {\n                                msg \n                                ? showMsg(user)\n                                : user.fullname\n                            }\n                        </small>\n                    </div>\n                </Link>\n            </div>\n            \n            {children}\n        </div>\n    )\n}\n\nexport default UserCard\n","export const GLOBALTYPES = {\n    AUTH: \"AUTH\",\n    ALERT: \"ALERT\",\n    THEME: 'THEME',\n    STATUS: 'STATUS',\n    MODAL: 'MODAL',\n    SOCKET: 'SOCKET',\n    ONLINE: 'ONLINE',\n    OFFLINE: 'OFFLINE',\n    CALL: 'CALL',\n    PEER: 'PEER'\n}\n\nexport const EditData = (data, id, post) => {\n    const newData = data.map(item => \n        (item._id === id ? post : item)\n    )\n    return newData;\n}\n\nexport const DeleteData = (data, id) => {\n    const newData = data.filter(item => item._id !== id)\n    return newData;\n}","export const imageShow = (src, theme) => {\n    return(\n        <img src={src} alt=\"images\" className=\"img-thumbnail\"\n        style={{filter: theme ? 'invert(1)' : 'invert(0)'}} />\n    )\n}\n\nexport const videoShow = (src, theme) => {\n    return(\n        <video controls src={src} alt=\"images\" className=\"img-thumbnail\"\n        style={{filter: theme ? 'invert(1)' : 'invert(0)'}} />\n    )\n}","export const checkImage = (file) => {\n    let err = \"\"\n    if(!file) return err = \"File does not exist.\"\n\n    if(file.size > 1024 * 1024) // 1mb\n    err = \"The largest image size is 1mb.\"\n\n    if(file.type !== 'image/jpeg' && file.type !== 'image/png' )\n    err = \"Image format is incorrect.\"\n    \n    return err;\n}\n\n\nexport const imageUpload = async (images) => {\n    let imgArr = [];\n    for(const item of images){\n        const formData = new FormData()\n\n        if(item.camera){\n            formData.append(\"file\", item.camera)\n        }else{\n            formData.append(\"file\", item)\n        }\n        \n        formData.append(\"upload_preset\", \"efxjficn\")\n        formData.append(\"cloud_name\", \"devat-channel\")\n\n        const res = await fetch(\"https://api.cloudinary.com/v1_1/devat-channel/upload\", {\n            method: \"POST\",\n            body: formData\n        })\n        \n        const data = await res.json()\n        imgArr.push({public_id: data.public_id, url: data.secure_url})\n    }\n    return imgArr;\n}","import React from 'react'\n\nconst LoadMoreBtn = ({result, page, load, handleLoadMore}) => {\n    return (\n        <>\n            {\n                result < 9 * (page - 1) ? '' : \n\n                !load && <button className=\"btn btn-dark mx-auto d-block\"\n                onClick={handleLoadMore}>\n                    Load more\n                </button>\n            }\n            \n        </>\n    )\n}\n\nexport default LoadMoreBtn\n","import React, { useState, useEffect } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { follow, unfollow } from '../redux/actions/profileAction'\n\nconst FollowBtn = ({user}) => {\n    const [followed, setFollowed] = useState(false)\n\n    const { auth, profile, socket } = useSelector(state => state)\n    const dispatch = useDispatch()\n\n    const [load, setLoad] = useState(false)\n\n    useEffect(() => {\n        if(auth.user.following.find(item => item._id === user._id)){\n            setFollowed(true)\n        }\n        return () => setFollowed(false)\n    }, [auth.user.following, user._id])\n\n    const handleFollow =  async () => {\n        if(load) return;\n\n        setFollowed(true)\n        setLoad(true)\n        await dispatch(follow({users: profile.users, user, auth, socket}))\n        setLoad(false)\n    }\n\n    const handleUnFollow = async () => {\n        if(load) return;\n\n        setFollowed(false)\n        setLoad(true)\n        await dispatch(unfollow({users: profile.users, user, auth, socket}))\n        setLoad(false)\n    }\n\n    return (\n        <>\n        {\n            followed\n            ? <button className=\"btn btn-outline-danger\"\n            onClick={handleUnFollow}>\n                UnFollow\n            </button>\n            : <button className=\"btn btn-outline-info\"\n            onClick={handleFollow}>\n                Follow\n            </button>\n        }\n        </>\n    )\n}\n\nexport default FollowBtn\n","const valid = ({fullname, username, email, password, cf_password}) => {\n    const err = {}\n\n    if(!fullname) {\n        err.fullname = \"Please add your full name.\"\n    }else if(fullname.length > 25){\n        err.fullname = \"Full name is up to 25 characters long.\"\n    }\n\n    if(!username) {\n        err.username = \"Please add your user name.\"\n    }else if(username.replace(/ /g, '').length > 25){\n        err.username = \"User name is up to 25 characters long.\"\n    }\n\n    if(!email) {\n        err.email = \"Please add your email.\"\n    }else if(!validateEmail(email)){\n        err.email = \"Email format is incorrect.\"\n    }\n\n    if(!password) {\n        err.password = \"Please add your password.\"\n    }else if(password.length < 6){\n        err.password = \"Password must be at least 6 characters.\"\n    }\n\n    if(password !== cf_password) {\n        err.cf_password = \"Confirm password did not match.\"\n    }\n\n    return {\n        errMsg: err,\n        errLength: Object.keys(err).length\n    }\n}\n\n\n\nfunction validateEmail(email) {\n    // eslint-disable-next-line\n    const re = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n    return re.test(email);\n}\n  \nexport default valid","import { GLOBALTYPES } from './globalTypes'\nimport { postDataAPI } from '../../utils/fetchData'\nimport valid from '../../utils/valid'\n\n\nexport const login = (data) => async (dispatch) => {\n    try {\n        dispatch({ type: GLOBALTYPES.ALERT, payload: {loading: true} })\n        const res = await postDataAPI('login', data)\n        dispatch({ \n            type: GLOBALTYPES.AUTH, \n            payload: {\n                token: res.data.access_token,\n                user: res.data.user\n            } \n        })\n\n        localStorage.setItem(\"firstLogin\", true)\n        dispatch({ \n            type: GLOBALTYPES.ALERT, \n            payload: {\n                success: res.data.msg\n            } \n        })\n        \n    } catch (err) {\n        dispatch({ \n            type: GLOBALTYPES.ALERT, \n            payload: {\n                error: err.response.data.msg\n            } \n        })\n    }\n}\n\n\nexport const refreshToken = () => async (dispatch) => {\n    const firstLogin = localStorage.getItem(\"firstLogin\")\n    if(firstLogin){\n        dispatch({ type: GLOBALTYPES.ALERT, payload: {loading: true} })\n\n        try {\n            const res = await postDataAPI('refresh_token')\n            dispatch({ \n                type: GLOBALTYPES.AUTH, \n                payload: {\n                    token: res.data.access_token,\n                    user: res.data.user\n                } \n            })\n\n            dispatch({ type: GLOBALTYPES.ALERT, payload: {} })\n\n        } catch (err) {\n            dispatch({ \n                type: GLOBALTYPES.ALERT, \n                payload: {\n                    error: err.response.data.msg\n                } \n            })\n        }\n    }\n}\n\nexport const register = (data) => async (dispatch) => {\n    const check = valid(data)\n    if(check.errLength > 0)\n    return dispatch({type: GLOBALTYPES.ALERT, payload: check.errMsg})\n\n    try {\n        dispatch({type: GLOBALTYPES.ALERT, payload: {loading: true}})\n\n        const res = await postDataAPI('register', data)\n        dispatch({ \n            type: GLOBALTYPES.AUTH, \n            payload: {\n                token: res.data.access_token,\n                user: res.data.user\n            } \n        })\n\n        localStorage.setItem(\"firstLogin\", true)\n        dispatch({ \n            type: GLOBALTYPES.ALERT, \n            payload: {\n                success: res.data.msg\n            } \n        })\n    } catch (err) {\n        dispatch({ \n            type: GLOBALTYPES.ALERT, \n            payload: {\n                error: err.response.data.msg\n            } \n        })\n    }\n}\n\n\nexport const logout = () => async (dispatch) => {\n    try {\n        localStorage.removeItem('firstLogin')\n        await postDataAPI('logout')\n        window.location.href = \"/\"\n    } catch (err) {\n        dispatch({ \n            type: GLOBALTYPES.ALERT, \n            payload: {\n                error: err.response.data.msg\n            } \n        })\n    }\n}","import { GLOBALTYPES } from '../actions/globalTypes'\nimport { getDataAPI } from '../../utils/fetchData'\n\nexport const SUGGES_TYPES = {\n    LOADING: 'LOADING_SUGGES',\n    GET_USERS: 'GET_USERS_SUGGES',\n}\n\nexport const getSuggestions = (token) => async (dispatch) => {\n    try {\n        dispatch({ type: SUGGES_TYPES.LOADING, payload: true })\n        \n        const res = await getDataAPI('suggestionsUser', token)\n        dispatch({ type: SUGGES_TYPES.GET_USERS, payload: res.data })\n\n        dispatch({ type: SUGGES_TYPES.LOADING, payload: false })\n        \n    } catch (err) {\n        dispatch({type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg}})\n    }\n}","import { GLOBALTYPES } from './globalTypes'\nimport { getDataAPI } from '../../utils/fetchData'\n\nexport const DISCOVER_TYPES = {\n    LOADING: 'LOADING_DISCOVER',\n    GET_POSTS: 'GET_DISCOVER_POSTS',\n    UPDATE_POST: 'UPDATE_DISCOVER_POST'\n}\n\nexport const getDiscoverPosts = (token) => async (dispatch) => {\n    try {\n        dispatch({type: DISCOVER_TYPES.LOADING, payload: true})\n\n        const res = await getDataAPI(`post_discover`, token)\n        dispatch({type: DISCOVER_TYPES.GET_POSTS, payload: res.data})\n\n        dispatch({type: DISCOVER_TYPES.LOADING, payload: false})\n\n    } catch (err) {\n        dispatch({type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg}})\n    }\n}","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport { useSelector } from 'react-redux'\n\nconst PostThumb = ({posts, result}) => {\n    const { theme } = useSelector(state => state)\n\n    if(result === 0) return <h2 className=\"text-center text-danger\">No Post</h2>\n\n    return (\n        <div className=\"post_thumb\">\n            {\n                posts.map(post => (\n                    <Link key={post._id} to={`/post/${post._id}`}>\n                        <div className=\"post_thumb_display\">\n\n                            {\n                                post.images[0].url.match(/video/i)\n                                ?<video controls src={post.images[0].url} alt={post.images[0].url}\n                                style={{filter: theme ? 'invert(1)' : 'invert(0)'}} />\n\n                                :<img src={post.images[0].url} alt={post.images[0].url}\n                                style={{filter: theme ? 'invert(1)' : 'invert(0)'}} />\n                            }\n\n                            <div className=\"post_thumb_menu\">\n                                <i className=\"far fa-heart\">{post.likes.length}</i>\n                                <i className=\"far fa-comment\">{post.comments.length}</i>\n                            </div>\n                        </div>\n                    </Link>\n                ))\n            }\n        </div>\n    )\n}\n\nexport default PostThumb\n","import React from 'react'\n\nconst Icons = ({setContent, content, theme}) => {\n    const reactions = [   \n        '', '', '', '', '', '', '', '',\n        '', '', '', '', '', '', '', '',\n        '', '', '', '', '', '', '', ''\n    ]\n\n    return (\n        <div className=\"nav-item dropdown\" \n        style={{ opacity: 1, filter: theme ? 'invert(1)' : 'invert(0)' }}>\n            \n            <span className=\"nav-link position-relative px-1\" id=\"navbarDropdown\" \n            role=\"button\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n                <span style={{opacity: 0.4}}></span>\n            </span>\n\n            <div className=\"dropdown-menu\" aria-labelledby=\"navbarDropdown\">\n                <div className=\"reactions\">\n                    {\n                        reactions.map(icon => (\n                            <span key={icon} onClick={() => setContent(content + icon)}>\n                                {icon}\n                            </span>\n                        ))\n                    }\n                </div>\n            </div>\n                \n        </div>\n    )\n}\n\nexport default Icons\n","import React from 'react'\nimport LeftSide from '../../components/message/LeftSide'\n\nconst Message = () => {\n    return (\n        <div className=\"message d-flex\">\n            <div className=\"col-md-4 border-right px-0\">\n                <LeftSide />\n            </div>\n\n            <div className=\"col-md-8 px-0 right_mess\">\n                <div className=\"d-flex justify-content-center \n                align-items-center flex-column h-100\">\n\n                    <i className=\"fab fa-facebook-messenger text-primary\"\n                    style={{fontSize: '5rem'}} />\n                    <h4>Messenger</h4>\n\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default Message\n","import React, { useState, useEffect } from 'react'\nimport { Link, useHistory } from 'react-router-dom'\nimport { login } from '../redux/actions/authAction'\nimport { useDispatch, useSelector } from 'react-redux'\n\n\nconst Login = () => {\n    const initialState = { email: '', password: '' }\n    const [userData, setUserData] = useState(initialState)\n    const { email, password } = userData\n\n    const [typePass, setTypePass] = useState(false)\n\n    const { auth } = useSelector(state => state)\n    const dispatch = useDispatch()\n    const history = useHistory()\n\n    useEffect(() => {\n        if(auth.token) history.push(\"/\")\n    }, [auth.token, history])\n\n    const handleChangeInput = e => {\n        const { name, value } = e.target\n        setUserData({...userData, [name]:value})\n    }\n\n    const handleSubmit = e => {\n        e.preventDefault()\n        dispatch(login(userData))\n    }\n\n    return (\n        <div className=\"auth_page\">\n            <form onSubmit={handleSubmit}>\n                <h3 className=\"text-uppercase text-center mb-4\">Socialize</h3>\n\n                <div className=\"form-group\">\n                    <label htmlFor=\"exampleInputEmail1\">Email address</label>\n                    <input type=\"email\" className=\"form-control\" id=\"exampleInputEmail1\" name=\"email\"\n                    aria-describedby=\"emailHelp\" onChange={handleChangeInput} value={email} />\n                    \n                    <small id=\"emailHelp\" className=\"form-text text-muted\">\n                        We'll never share your email with anyone else.\n                    </small>\n                </div>\n\n                <div className=\"form-group\">\n                    <label htmlFor=\"exampleInputPassword1\">Password</label>\n\n                    <div className=\"pass\">\n                        \n                        <input type={ typePass ? \"text\" : \"password\" } \n                        className=\"form-control\" id=\"exampleInputPassword1\"\n                        onChange={handleChangeInput} value={password} name=\"password\" />\n\n                        <small onClick={() => setTypePass(!typePass)}>\n                            {typePass ? 'Hide' : 'Show'}\n                        </small>\n                    </div>\n                   \n                </div>\n                \n                <button type=\"submit\" className=\"btn btn-dark w-100\"\n                disabled={email && password ? false : true}>\n                    Login\n                </button>\n\n                <p className=\"my-2\">\n                    You don't have an account? <Link to=\"/register\" style={{color: \"crimson\"}}>Register Now</Link>\n                </p>\n            </form>\n        </div>\n    )\n}\n\nexport default Login\n","import React, { useState, useEffect } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { useHistory, Link } from 'react-router-dom'\nimport { register } from '../redux/actions/authAction'\n\nconst Register = () => {\n    const { auth, alert } = useSelector(state => state)\n    const dispatch = useDispatch()\n    const history = useHistory()\n\n    const initialState = { \n        fullname: '', username: '', email: '', password: '', cf_password: '', gender: 'male'\n    }\n    const [userData, setUserData] = useState(initialState)\n    const { fullname, username, email, password, cf_password } = userData\n\n    const [typePass, setTypePass] = useState(false)\n    const [typeCfPass, setTypeCfPass] = useState(false)\n\n    useEffect(() => {\n        if(auth.token) history.push(\"/\")\n    }, [auth.token, history])\n\n    \n    const handleChangeInput = e => {\n        const { name, value } = e.target\n        setUserData({...userData, [name]:value})\n    }\n\n    const handleSubmit = e => {\n        e.preventDefault()\n        dispatch(register(userData))\n    }\n\n    return (\n        <div className=\"auth_page\">\n            <form onSubmit={handleSubmit}>\n                <h3 className=\"text-uppercase text-center mb-4\">Socialize</h3>\n\n                <div className=\"form-group\">\n                    <label htmlFor=\"fullname\">Full Name</label>\n                    <input type=\"text\" className=\"form-control\" id=\"fullname\" name=\"fullname\"\n                    onChange={handleChangeInput} value={fullname}\n                    style={{background: `${alert.fullname ? '#fd2d6a14' : ''}`}} />\n                    \n                    <small className=\"form-text text-danger\">\n                        {alert.fullname ? alert.fullname : ''}\n                    </small>\n                </div>\n\n                <div className=\"form-group\">\n                    <label htmlFor=\"username\">User Name</label>\n                    <input type=\"text\" className=\"form-control\" id=\"username\" name=\"username\"\n                    onChange={handleChangeInput} value={username.toLowerCase().replace(/ /g, '')}\n                    style={{background: `${alert.username ? '#fd2d6a14' : ''}`}} />\n                    \n                    <small className=\"form-text text-danger\">\n                        {alert.username ? alert.username : ''}\n                    </small>\n                </div>\n\n                <div className=\"form-group\">\n                    <label htmlFor=\"exampleInputEmail1\">Email address</label>\n                    <input type=\"email\" className=\"form-control\" id=\"exampleInputEmail1\" name=\"email\"\n                    onChange={handleChangeInput} value={email}\n                    style={{background: `${alert.email ? '#fd2d6a14' : ''}`}} />\n                    \n                    <small className=\"form-text text-danger\">\n                        {alert.email ? alert.email : ''}\n                    </small>\n                </div>\n\n                <div className=\"form-group\">\n                    <label htmlFor=\"exampleInputPassword1\">Password</label>\n\n                    <div className=\"pass\">\n                        \n                        <input type={ typePass ? \"text\" : \"password\" } \n                        className=\"form-control\" id=\"exampleInputPassword1\"\n                        onChange={handleChangeInput} value={password} name=\"password\"\n                        style={{background: `${alert.password ? '#fd2d6a14' : ''}`}} />\n\n                        <small onClick={() => setTypePass(!typePass)}>\n                            {typePass ? 'Hide' : 'Show'}\n                        </small>\n                    </div>\n\n                    <small className=\"form-text text-danger\">\n                        {alert.password ? alert.password : ''}\n                    </small>\n                </div>\n\n                <div className=\"form-group\">\n                    <label htmlFor=\"cf_password\">Confirm Password</label>\n\n                    <div className=\"pass\">\n                        \n                        <input type={ typeCfPass ? \"text\" : \"password\" } \n                        className=\"form-control\" id=\"cf_password\"\n                        onChange={handleChangeInput} value={cf_password} name=\"cf_password\"\n                        style={{background: `${alert.cf_password ? '#fd2d6a14' : ''}`}} />\n\n                        <small onClick={() => setTypeCfPass(!typeCfPass)}>\n                            {typeCfPass ? 'Hide' : 'Show'}\n                        </small>\n                    </div>\n\n                    <small className=\"form-text text-danger\">\n                        {alert.cf_password ? alert.cf_password : ''}\n                    </small>\n                </div>\n\n                <div className=\"row justify-content-between mx-0 mb-1\">\n                    <label htmlFor=\"male\">\n                        Male: <input type=\"radio\" id=\"male\" name=\"gender\"\n                        value=\"male\" defaultChecked onChange={handleChangeInput} />\n                    </label>\n\n                    <label htmlFor=\"female\">\n                        Female: <input type=\"radio\" id=\"female\" name=\"gender\"\n                        value=\"female\" onChange={handleChangeInput} />\n                    </label>\n\n                    <label htmlFor=\"other\">\n                        Other: <input type=\"radio\" id=\"other\" name=\"gender\"\n                        value=\"other\" onChange={handleChangeInput} />\n                    </label>\n                </div>\n                \n                <button type=\"submit\" className=\"btn btn-dark w-100\">\n                    Register\n                </button>\n\n                <p className=\"my-2\">\n                    Already have an account? <Link to=\"/\" style={{color: \"crimson\"}}>Login Now</Link>\n                </p>\n            </form>\n        </div>\n    )\n}\n\nexport default Register\n","import React from 'react'\nimport Avatar from '../Avatar'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { GLOBALTYPES } from '../../redux/actions/globalTypes'\n\nconst Status = () => {\n    const { auth } = useSelector(state => state)\n    const dispatch = useDispatch()\n\n    return (\n        <div className=\"status my-3 d-flex\">\n            <Avatar src={auth.user.avatar} size=\"big-avatar\" />\n            \n            <button className=\"statusBtn flex-fill\"\n            onClick={() => dispatch({ type: GLOBALTYPES.STATUS, payload: true })}>\n                {auth.user.username}, what are you thinking?\n            </button>\n        </div>\n    )\n}\n\nexport default Status\n","import React, { useState } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport PostCard from '../PostCard'\n\nimport LoadIcon from '../../images/loading.gif'\nimport LoadMoreBtn from '../LoadMoreBtn'\nimport { getDataAPI } from '../../utils/fetchData'\nimport { POST_TYPES } from '../../redux/actions/postAction'\n\n\nconst Posts = () => {\n    const { homePosts, auth, theme } = useSelector(state => state)\n    const dispatch = useDispatch()\n\n    const [load, setLoad] = useState(false)\n\n    const handleLoadMore = async () => {\n        setLoad(true)\n        const res = await getDataAPI(`posts?limit=${homePosts.page * 9}`, auth.token)\n\n        dispatch({\n            type: POST_TYPES.GET_POSTS, \n            payload: {...res.data, page: homePosts.page + 1}\n        })\n\n        setLoad(false)\n    }\n\n    return (\n        <div className=\"posts\">\n            {\n                homePosts.posts.map(post => (\n                    <PostCard key={post._id} post={post} theme={theme} />\n                ))\n            }\n\n            {\n                load && <img src={LoadIcon} alt=\"loading\" className=\"d-block mx-auto\" />\n            }\n\n            \n            <LoadMoreBtn result={homePosts.result} page={homePosts.page}\n            load={load} handleLoadMore={handleLoadMore} />\n        </div>\n    )\n}\n\nexport default Posts\n","import React from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\n\nimport UserCard from '../UserCard';\nimport FollowBtn from '../FollowBtn';\nimport LoadIcon from '../../images/loading.gif';\nimport { getSuggestions } from '../../redux/actions/suggestionsAction';\n\nconst RightSideBar = () => {\n    const { auth, suggestions } = useSelector(state => state);\n    const dispatch = useDispatch();\n\n    // Get the current year\n    const currentYear = new Date().getFullYear();\n\n    return (\n        <div className=\"mt-3\">\n            <UserCard user={auth.user} />\n\n            <div className=\"d-flex justify-content-between align-items-center my-2\">\n                <h5 className=\"text-danger\">Suggestions for you</h5>\n                {\n                    !suggestions.loading &&\n                    <i className=\"fas fa-redo\" style={{ cursor: 'pointer' }}\n                        onClick={() => dispatch(getSuggestions(auth.token))} />\n                }\n            </div>\n\n            {\n                suggestions.loading\n                    ? <img src={LoadIcon} alt=\"loading\" className=\"d-block mx-auto my-4\" />\n                    : <div className=\"suggestions\">\n                        {\n                            suggestions.users.map(user => (\n                                <UserCard key={user._id} user={user} >\n                                    <FollowBtn user={user} />\n                                </UserCard>\n                            ))\n                        }\n                    </div>\n            }\n\n            <div style={{ opacity: 0.5 }} className=\"my-2\">\n                <small>\n                    &copy; {currentYear} SOCIALIZE | Drib\n                </small>\n            </div>\n        </div>\n    );\n}\n\nexport default RightSideBar;\n","// StoryCard.js\r\nimport React from 'react';\r\nimport { Card } from 'react-bootstrap';\r\n\r\nconst StoryCard = ({ user, onViewStory }) => {\r\n    return (\r\n        <Card\r\n            className=\"position-relative text-center\"\r\n            style={{\r\n                width: '120px',\r\n                cursor: 'pointer',\r\n                borderRadius: '12px',\r\n                overflow: 'hidden',\r\n                marginRight: '10px',\r\n                backgroundColor: '#333' // Set a darker background color for better contrast\r\n            }}\r\n            onClick={() => onViewStory(user)}\r\n        >\r\n            <Card.Body className=\"p-0 position-relative\">\r\n                <div\r\n                    className=\"position-absolute top-0 start-0 p-2\"\r\n                    style={{ width: '100%', height: '100%', background: 'linear-gradient(to bottom, rgba(0, 0, 0, 0.3), rgba(0, 0, 0, 0.1))' }}\r\n                >\r\n                    <img\r\n                        src={user.avatar}\r\n                        alt={user.name}\r\n                        className=\"rounded-circle border border-light\"\r\n                        style={{ width: '50px', height: '50px', objectFit: 'cover', position: 'absolute', top: '8px', left: '8px', border: '2px solid white' }}\r\n                    />\r\n                </div>\r\n                {user.stories.length > 0 && (\r\n                    <Card.Img\r\n                        src={user.stories[0]?.url}\r\n                        alt=\"Story Preview\"\r\n                        className=\"img-fluid\"\r\n                        style={{ height: '120px', objectFit: 'cover', borderRadius: '12px' }}\r\n                    />\r\n                )}\r\n                <Card.Body className=\"pt-2 pb-2 text-white\">\r\n                    <h6 className=\"text-white mb-0\" style={{ textShadow: '1px 1px 2px rgba(0, 0, 0, 0.5)' }}>\r\n                        {user.name}\r\n                    </h6>\r\n                </Card.Body>\r\n            </Card.Body>\r\n        </Card>\r\n    );\r\n};\r\n\r\nexport default StoryCard;","// AddStoryCard.js\r\nimport React, { useState } from 'react';\r\nimport { Card, Modal, Button } from 'react-bootstrap';\r\nimport { FaPlus, FaTextHeight, FaImage } from 'react-icons/fa';\r\n\r\nconst predefinedColors = [\r\n    'linear-gradient(135deg, #f6d365 0%, #fda085 100%)',\r\n    'linear-gradient(135deg, #a1c4fd 0%, #c2e9fb 100%)',\r\n    'linear-gradient(135deg, #d4fc79 0%, #96e6a1 100%)',\r\n    'linear-gradient(135deg, #84fab0 0%, #8fd3f4 100%)',\r\n    'linear-gradient(135deg, #ff9a9e 0%, #fad0c4 99%, #fad0c4 100%)',\r\n    'linear-gradient(135deg, #a18cd1 0%, #fbc2eb 100%)',\r\n    'linear-gradient(135deg, #fbc2eb 0%, #a6c1ee 100%)',\r\n    'linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%)',\r\n    'linear-gradient(135deg, #ff9a9e 0%, #fecfef 99%, #fecfef 100%)',\r\n    'linear-gradient(135deg, #ffdde1 0%, #ee9ca7 100%)',\r\n    'linear-gradient(135deg, #f6d365 0%, #fda085 100%)',\r\n    'linear-gradient(135deg, #fbc2eb 0%, #a6c1ee 100%)',\r\n    'linear-gradient(135deg, #f093fb 0%, #f5576c 100%)',\r\n    'linear-gradient(135deg, #5ee7df 0%, #b490ca 100%)',\r\n    'linear-gradient(135deg, #c3cfe2 0%, #c3cfe2 100%)',\r\n    'linear-gradient(135deg, #a1c4fd 0%, #c2e9fb 100%)',\r\n    'linear-gradient(135deg, #d4fc79 0%, #96e6a1 100%)',\r\n    'linear-gradient(135deg, #84fab0 0%, #8fd3f4 100%)',\r\n    'linear-gradient(135deg, #f093fb 0%, #f5576c 100%)'\r\n];\r\n\r\nconst AddStoryCard = () => {\r\n    const [showModal, setShowModal] = useState(false);\r\n    const [showTextArea, setShowTextArea] = useState(false);\r\n    const [selectedColor, setSelectedColor] = useState(predefinedColors[0]);\r\n\r\n    const handleAddStoryClick = () => {\r\n        setShowModal(true);\r\n    };\r\n\r\n    const handleTextCardClick = () => {\r\n        setShowTextArea(true);\r\n    };\r\n\r\n    const handleMediaCardClick = () => {\r\n        setShowModal(false);\r\n        // Prompt file explorer\r\n        document.getElementById('mediaUpload').click();\r\n    };\r\n\r\n    const handleClose = () => {\r\n        setShowModal(false);\r\n        setShowTextArea(false);\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <Card\r\n                className=\"text-center d-flex align-items-center justify-content-center\"\r\n                style={{\r\n                    width: '120px',\r\n                    height: '180px',\r\n                    cursor: 'pointer',\r\n                    borderRadius: '12px',\r\n                    overflow: 'hidden',\r\n                    background: 'linear-gradient(135deg, #89f7fe 0%, #66a6ff 100%)',\r\n                    marginRight: '10px'\r\n                }}\r\n                onClick={handleAddStoryClick}\r\n            >\r\n                <Card.Body className=\"d-flex flex-column align-items-center justify-content-center p-0\">\r\n                    <div className=\"mb-2\">\r\n                        <div\r\n                            style={{\r\n                                width: '80px',\r\n                                height: '80px',\r\n                                background: 'linear-gradient(135deg, #89f7fe 0%, #66a6ff 100%)',\r\n                                borderRadius: '50%',\r\n                                display: 'flex',\r\n                                alignItems: 'center',\r\n                                justifyContent: 'center',\r\n                                border: '2px solid #fff'\r\n                            }}\r\n                        >\r\n                            <FaPlus size={40} color=\"#fff\" />\r\n                        </div>\r\n                    </div>\r\n                    <h6 style={{ color: \"#fff\" }}>Add Story</h6>\r\n                </Card.Body>\r\n            </Card>\r\n\r\n            <Modal show={showModal} onHide={handleClose} centered>\r\n                <Modal.Body className=\"d-flex flex-column align-items-center\">\r\n                    {!showTextArea ? (\r\n                        <div className=\"d-flex justify-content-around w-100\">\r\n                            <Card\r\n                                className=\"text-center d-flex align-items-center justify-content-center\"\r\n                                style={{\r\n                                    width: '45%',\r\n                                    height: '120px',\r\n                                    cursor: 'pointer',\r\n                                    borderRadius: '12px',\r\n                                    overflow: 'hidden',\r\n                                    background: 'linear-gradient(135deg, #ff9a9e 0%, #fad0c4 100%)',\r\n                                    marginBottom: '10px'\r\n                                }}\r\n                                onClick={handleTextCardClick}\r\n                            >\r\n                                <Card.Body className=\"d-flex flex-column align-items-center justify-content-center p-0\">\r\n                                    <FaTextHeight size={40} color=\"#fff\" />\r\n                                    <h6 style={{ color: \"#fff\", marginTop: '10px' }}>Text</h6>\r\n                                </Card.Body>\r\n                            </Card>\r\n\r\n                            <Card\r\n                                className=\"text-center d-flex align-items-center justify-content-center\"\r\n                                style={{\r\n                                    width: '45%',\r\n                                    height: '120px',\r\n                                    cursor: 'pointer',\r\n                                    borderRadius: '12px',\r\n                                    overflow: 'hidden',\r\n                                    background: 'linear-gradient(135deg, #a1c4fd 0%, #c2e9fb 100%)'\r\n                                }}\r\n                                onClick={handleMediaCardClick}\r\n                            >\r\n                                <Card.Body className=\"d-flex flex-column align-items-center justify-content-center p-0\">\r\n                                    <FaImage size={40} color=\"#fff\" />\r\n                                    <h6 style={{ color: \"#fff\", marginTop: '10px' }}>Media</h6>\r\n                                </Card.Body>\r\n                            </Card>\r\n                        </div>\r\n                    ) : (\r\n                        <div className=\"text-center w-100\">\r\n                            <textarea\r\n                                style={{\r\n                                    width: '100%',\r\n                                    height: '150px',\r\n                                    borderRadius: '12px',\r\n                                    border: '1px solid #ddd',\r\n                                    padding: '10px',\r\n                                    background: selectedColor\r\n                                }}\r\n                                placeholder=\"Type your story here...\"\r\n                            ></textarea>\r\n                            <div className=\"d-flex flex-wrap justify-content-center mt-2\">\r\n                                {predefinedColors.map((color, index) => (\r\n                                    <div\r\n                                        key={index}\r\n                                        style={{\r\n                                            width: '30px',\r\n                                            height: '30px',\r\n                                            borderRadius: '50%',\r\n                                            background: color,\r\n                                            cursor: 'pointer',\r\n                                            margin: '5px'\r\n                                        }}\r\n                                        onClick={() => setSelectedColor(color)}\r\n                                    ></div>\r\n                                ))}\r\n                            </div>\r\n                            <Button\r\n                                style={{\r\n                                    marginTop: '10px',\r\n                                    backgroundColor: '#007bff',\r\n                                    borderColor: '#007bff'\r\n                                }}\r\n                                onClick={handleClose}\r\n                            >\r\n                                Submit\r\n                            </Button>\r\n                        </div>\r\n                    )}\r\n                </Modal.Body>\r\n            </Modal>\r\n\r\n            <input type=\"file\" id=\"mediaUpload\" style={{ display: 'none' }} />\r\n        </>\r\n    );\r\n};\r\n\r\nexport default AddStoryCard;","import React, { useState, useEffect, useRef } from 'react';\r\nimport { Modal, Button } from 'react-bootstrap';\r\nimport { FaChevronLeft, FaChevronRight } from 'react-icons/fa';\r\nimport dayjs from 'dayjs';\r\nimport './StoryViewer.css';\r\n\r\nconst StoryViewer = ({ show, onHide, userStories }) => {\r\n    const [currentStoryIndex, setCurrentStoryIndex] = useState(0);\r\n    const [currentUserIndex, setCurrentUserIndex] = useState(0);\r\n    const [isPlaying, setIsPlaying] = useState(true);\r\n    const storyRef = useRef(null);\r\n\r\n    // Handle autoplay and story change\r\n    useEffect(() => {\r\n        if (isPlaying && userStories.length > 0) {\r\n            const timer = setTimeout(() => {\r\n                handleNextStory();\r\n            }, 5000); // Adjust duration as needed\r\n\r\n            return () => clearTimeout(timer);\r\n        }\r\n    }, [currentStoryIndex, isPlaying, userStories]);\r\n\r\n    const handleNextStory = () => {\r\n        if (!userStories || userStories.length === 0) return;\r\n\r\n        const currentUserStories = userStories[currentUserIndex]?.stories || [];\r\n        if (currentStoryIndex < currentUserStories.length - 1) {\r\n            setCurrentStoryIndex(currentStoryIndex + 1);\r\n        } else {\r\n            // Move to next user if available\r\n            if (currentUserIndex < userStories.length - 1) {\r\n                setCurrentUserIndex(currentUserIndex + 1);\r\n                setCurrentStoryIndex(0);\r\n            } else {\r\n                // Close viewer if no more stories\r\n                onHide();\r\n            }\r\n        }\r\n    };\r\n\r\n    const handlePreviousStory = () => {\r\n        if (currentStoryIndex > 0) {\r\n            setCurrentStoryIndex(currentStoryIndex - 1);\r\n        } else if (currentUserIndex > 0) {\r\n            // Move to previous user if available\r\n            setCurrentUserIndex(currentUserIndex - 1);\r\n            const prevUserStories = userStories[currentUserIndex - 1]?.stories || [];\r\n            setCurrentStoryIndex(prevUserStories.length - 1);\r\n        }\r\n    };\r\n\r\n    const getTimeDifference = (timestamp) => {\r\n        if (!timestamp) return '';\r\n        const hoursAgo = dayjs().diff(dayjs(timestamp), 'hour');\r\n        return `${hoursAgo} hours ago`;\r\n    };\r\n\r\n    if (!userStories || userStories.length === 0) {\r\n        return null;\r\n    }\r\n\r\n    const currentUserStories = userStories[currentUserIndex]?.stories || [];\r\n    const currentStory = currentUserStories[currentStoryIndex] || {};\r\n\r\n    return (\r\n        <Modal show={show} onHide={onHide} dialogClassName=\"story-viewer-modal\" centered>\r\n            <Modal.Body className=\"p-0\">\r\n                <div className=\"story-viewer\">\r\n                    <div className=\"story-header\">\r\n                        <img src={userStories[currentUserIndex]?.userAvatar} alt=\"User Avatar\" className=\"user-avatar\" />\r\n                        <div className=\"user-info\">\r\n                            <span className=\"user-name\">{userStories[currentUserIndex]?.userName}</span>\r\n                            <span className=\"story-time\">{getTimeDifference(currentStory.timestamp)}</span>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"story-content\">\r\n                        <img\r\n                            ref={storyRef}\r\n                            src={currentStory.url}\r\n                            alt=\"Story\"\r\n                            onClick={handleNextStory}\r\n                            style={{ width: '100%', height: '100%', objectFit: 'cover' }}\r\n                        />\r\n                    </div>\r\n                    <button className=\"nav-button prev\" onClick={handlePreviousStory}>\r\n                        <FaChevronLeft size={30} />\r\n                    </button>\r\n                    <button className=\"nav-button next\" onClick={handleNextStory}>\r\n                        <FaChevronRight size={30} />\r\n                    </button>\r\n                </div>\r\n            </Modal.Body>\r\n            <Modal.Footer className=\"story-viewer-footer\">\r\n                <Button variant=\"secondary\" onClick={onHide}>Close</Button>\r\n            </Modal.Footer>\r\n        </Modal>\r\n    );\r\n};\r\n\r\nexport default StoryViewer;","import React, { useState } from 'react';\r\nimport StoryCard from './StoryCard';\r\nimport AddStoryCard from './AddStoryCard';\r\nimport StoryViewer from './StoryViewer';\r\n\r\nconst dummyUsers = [\r\n    {\r\n        id: 1,\r\n        name: 'John Doe',\r\n        avatar: 'https://picsum.photos/80/80?random=2',\r\n        stories: [\r\n            { url: 'https://picsum.photos/800/600?random=3', timestamp: '2024-08-05T10:00:00Z' },\r\n            { url: 'https://picsum.photos/800/600?random=4', timestamp: '2024-08-05T12:00:00Z' }\r\n        ]\r\n    },\r\n    {\r\n        id: 2,\r\n        name: 'Jane Smith',\r\n        avatar: 'https://picsum.photos/80/80?random=5',\r\n        stories: [\r\n            { url: 'https://picsum.photos/800/600?random=6', timestamp: '2024-08-04T08:00:00Z' }\r\n        ]\r\n    }\r\n];\r\n\r\nconst StoryFeature = () => {\r\n    const [showStoryViewer, setShowStoryViewer] = useState(false);\r\n    const [selectedUser, setSelectedUser] = useState(null);\r\n\r\n    const handleAddStory = () => {\r\n        alert('Add a new story!');\r\n    };\r\n\r\n    const handleViewStory = (user) => {\r\n        setSelectedUser(user);\r\n        setShowStoryViewer(true);\r\n    };\r\n\r\n    const handleCloseStoryViewer = () => {\r\n        setShowStoryViewer(false);\r\n        setSelectedUser(null);\r\n    };\r\n\r\n    return (\r\n        <div className=\"d-flex overflow-auto p-3\">\r\n            <AddStoryCard onAddStory={handleAddStory} />\r\n            {dummyUsers.map(user => (\r\n                <StoryCard key={user.id} user={user} onViewStory={handleViewStory} />\r\n            ))}\r\n            {selectedUser && (\r\n                <StoryViewer\r\n                    show={showStoryViewer}\r\n                    onHide={handleCloseStoryViewer}\r\n                    userStories={[{\r\n                        userAvatar: selectedUser.avatar,\r\n                        userName: selectedUser.name,\r\n                        stories: selectedUser.stories\r\n                    }]}\r\n                />\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default StoryFeature;","import React, { useEffect } from 'react'\n\nimport Status from '../components/home/Status'\nimport Posts from '../components/home/Posts'\nimport RightSideBar from '../components/home/RightSideBar'\n\nimport { useSelector } from 'react-redux'\nimport LoadIcon from '../images/loading.gif'\nimport StoryFeature from '../components/story/StoryFeature'\n\n\nlet scroll = 0;\n\nconst Home = () => {\n    const { homePosts } = useSelector(state => state)\n\n    window.addEventListener('scroll', () => {\n        if (window.location.pathname === '/') {\n            scroll = window.pageYOffset\n            return scroll;\n        }\n    })\n\n    useEffect(() => {\n        setTimeout(() => {\n            window.scrollTo({ top: scroll, behavior: 'smooth' })\n        }, 100)\n    }, [])\n\n    return (\n        <div className=\"home row mx-0\">\n            <div className=\"col-md-8\">\n                <StoryFeature />\n                <Status />\n\n                {\n                    homePosts.loading\n                        ? <img src={LoadIcon} alt=\"loading\" className=\"d-block mx-auto\" />\n                        : (homePosts.result === 0 && homePosts.posts.length === 0)\n                            ? <h2 className=\"text-center\">No Post</h2>\n                            : <Posts />\n                }\n\n            </div>\n\n            <div className=\"col-md-4\">\n                <RightSideBar />\n            </div>\n        </div>\n    )\n}\n\nexport default Home","import React, { useState, useEffect, useRef } from 'react'\nimport UserCard from '../UserCard'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { getDataAPI } from '../../utils/fetchData'\nimport { GLOBALTYPES } from '../../redux/actions/globalTypes'\nimport { useHistory, useParams } from 'react-router-dom'\nimport { MESS_TYPES, getConversations } from '../../redux/actions/messageAction'\n\n\nconst LeftSide = () => {\n    const { auth, message, online } = useSelector(state => state)\n    const dispatch = useDispatch()\n\n    const [search, setSearch] = useState('')\n    const [searchUsers, setSearchUsers] = useState([])\n\n    const history = useHistory()\n    const { id } = useParams()\n\n    const pageEnd = useRef()\n    const [page, setPage] = useState(0)\n\n    \n    const handleSearch = async e => {\n        e.preventDefault()\n        if(!search) return setSearchUsers([]);\n\n        try {\n            const res = await getDataAPI(`search?username=${search}`, auth.token)\n            setSearchUsers(res.data.users)\n        } catch (err) {\n            dispatch({\n                type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg}\n            })\n        }\n    }\n\n    const handleAddUser = (user) => {\n        setSearch('')\n        setSearchUsers([])\n        dispatch({type: MESS_TYPES.ADD_USER, payload: {...user, text: '', media: []}})\n        dispatch({type: MESS_TYPES.CHECK_ONLINE_OFFLINE, payload: online})\n        return history.push(`/message/${user._id}`)\n    }\n\n    const isActive = (user) => {\n        if(id === user._id) return 'active';\n        return ''\n    }\n\n    useEffect(() => {\n        if(message.firstLoad) return;\n        dispatch(getConversations({auth}))\n    },[dispatch, auth, message.firstLoad])\n\n    // Load More\n    useEffect(() => {\n        const observer = new IntersectionObserver(entries => {\n            if(entries[0].isIntersecting){\n                setPage(p => p + 1)\n            }\n        },{\n            threshold: 0.1\n        })\n\n        observer.observe(pageEnd.current)\n    },[setPage])\n\n    useEffect(() => {\n        if(message.resultUsers >= (page - 1) * 9 && page > 1){\n            dispatch(getConversations({auth, page}))\n        }\n    },[message.resultUsers, page, auth, dispatch])\n    \n\n    // Check User Online - Offline\n    useEffect(() => {\n        if(message.firstLoad) {\n            dispatch({type: MESS_TYPES.CHECK_ONLINE_OFFLINE, payload: online})\n        }\n    },[online, message.firstLoad, dispatch])\n\n    return (\n        <>\n            <form className=\"message_header\" onSubmit={handleSearch} >\n                <input type=\"text\" value={search}\n                placeholder=\"Enter to Search...\"\n                onChange={e => setSearch(e.target.value)} />\n\n                <button type=\"submit\" style={{display: 'none'}}>Search</button>\n            </form>\n\n            <div className=\"message_chat_list\">\n                {\n                    searchUsers.length !== 0\n                    ?  <>\n                        {\n                            searchUsers.map(user => (\n                                <div key={user._id} className={`message_user ${isActive(user)}`}\n                                onClick={() => handleAddUser(user)}>\n                                    <UserCard user={user} />\n                                </div>\n                            ))\n                        }\n                        \n                    </>\n                    : <>\n                        {\n                            message.users.map(user => (\n                                <div key={user._id} className={`message_user ${isActive(user)}`}\n                                onClick={() => handleAddUser(user)}>\n                                    <UserCard user={user} msg={true}>\n                                        {\n                                            user.online\n                                            ? <i className=\"fas fa-circle text-success\" />\n                                            : auth.user.following.find(item => \n                                                item._id === user._id\n                                            ) && <i className=\"fas fa-circle\" />\n                                                \n                                        }\n                                        \n                                    </UserCard>\n                                </div>\n                            ))\n                        }\n                    </>\n                }\n               \n               <button ref={pageEnd} style={{opacity: 0}} >Load More</button>\n            </div>\n        </>\n    )\n}\n\nexport default LeftSide\n","export const BASE_URL = 'https://v-network-devat.herokuapp.com'","import React from 'react'\nimport Avatar from '../../Avatar'\nimport { Link, useHistory } from 'react-router-dom'\nimport { useSelector, useDispatch } from 'react-redux'\nimport moment from 'moment'\nimport { GLOBALTYPES } from '../../../redux/actions/globalTypes'\nimport { deletePost } from '../../../redux/actions/postAction'\nimport { BASE_URL } from '../../../utils/config'\n\nconst CardHeader = ({post}) => {\n    const { auth, socket } = useSelector(state => state)\n    const dispatch = useDispatch()\n\n    const history = useHistory()\n\n    const handleEditPost = () => {\n        dispatch({ type: GLOBALTYPES.STATUS, payload: {...post, onEdit: true}})\n    }\n\n    const handleDeletePost = () => {\n        if(window.confirm(\"Are you sure want to delete this post?\")){\n            dispatch(deletePost({post, auth, socket}))\n            return history.push(\"/\")\n        }\n    }\n\n    const handleCopyLink = () => {\n        navigator.clipboard.writeText(`${BASE_URL}/post/${post._id}`)\n    }\n\n    return (\n        <div className=\"card_header\">\n            <div className=\"d-flex\">\n                <Avatar src={post.user.avatar} size=\"big-avatar\" />\n\n                <div className=\"card_name\">\n                    <h6 className=\"m-0\">\n                        <Link to={`/profile/${post.user._id}`} className=\"text-dark\">\n                            {post.user.username}\n                        </Link>\n                    </h6>\n                    <small className=\"text-muted\">\n                        {moment(post.createdAt).fromNow()}\n                    </small>\n                </div>\n            </div>\n\n            <div className=\"nav-item dropdown\">\n                <span className=\"material-icons\" id=\"moreLink\" data-toggle=\"dropdown\">\n                    more_horiz\n                </span>\n\n                <div className=\"dropdown-menu\">\n                    {\n                        auth.user._id === post.user._id &&\n                        <>\n                            <div className=\"dropdown-item\" onClick={handleEditPost}>\n                                <span className=\"material-icons\">create</span> Edit Post\n                            </div>\n                            <div className=\"dropdown-item\" onClick={handleDeletePost} >\n                                <span className=\"material-icons\">delete_outline</span> Remove Post\n                            </div>\n                        </>\n                    }\n\n                    <div className=\"dropdown-item\" onClick={handleCopyLink}>\n                        <span className=\"material-icons\">content_copy</span> Copy Link\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default CardHeader\n","import React from 'react'\nimport { useSelector } from 'react-redux'\n\nconst Carousel = ({images, id}) => {\n    const isActive = index => {\n        if(index === 0) return \"active\";\n    }\n\n    const { theme } = useSelector(state => state)\n\n    return (\n        <div id={`image${id}`} className=\"carousel slide\" data-ride=\"carousel\">\n            <ol className=\"carousel-indicators\" style={{zIndex: 1}}>\n                {\n                    images.map((img, index) => (\n                        <li key={index} data-target={`#image${id}`} \n                        data-slide-to={index} className={isActive(index)} />\n                    ))\n                }\n                \n            </ol>\n\n            <div className=\"carousel-inner\">\n                {\n                    images.map((img, index) => (\n                        <div key={index} className={`carousel-item ${isActive(index)}`}>\n                            {\n                                img.url.match(/video/i)\n                                ? <video controls src={img.url} className=\"d-block w-100\" alt={img.url}\n                                style={{filter: theme ? 'invert(1)' : 'invert(0)'}} />\n\n                                : <img src={img.url} className=\"d-block w-100\" alt={img.url}\n                                style={{filter: theme ? 'invert(1)' : 'invert(0)'}} />\n                            }\n                           \n                        </div>\n                    ))\n                }\n                \n            </div>\n            \n            {\n                images.length > 1 &&\n                <>\n                    <a className=\"carousel-control-prev\" href={`#image${id}`} role=\"button\" data-slide=\"prev\"\n                    style={{width: '5%'}}>\n                        <span className=\"carousel-control-prev-icon\" aria-hidden=\"true\"></span>\n                        <span className=\"sr-only\">Previous</span>\n                    </a>\n\n                    <a className=\"carousel-control-next\" href={`#image${id}`} role=\"button\" data-slide=\"next\"\n                    style={{width: '5%'}}>\n                        <span className=\"carousel-control-next-icon\" aria-hidden=\"true\"></span>\n                        <span className=\"sr-only\">Next</span>\n                    </a>\n                </>\n            }\n            \n        </div>\n    )\n}\n\nexport default Carousel\n","import React, { useState } from 'react'\nimport Carousel from '../../Carousel'\n\nconst CardBody = ({post, theme}) => {\n    const [readMore, setReadMore] = useState(false)\n\n    \n    return (\n        <div className=\"card_body\">\n            <div className=\"card_body-content\" \n            style={{\n                filter: theme ? 'invert(1)' : 'invert(0)',\n                color: theme ? 'white' : '#111',\n            }}>\n                <span>\n                    {\n                        post.content.length < 60 \n                        ? post.content \n                        : readMore ? post.content + ' ' : post.content.slice(0, 60) + '.....'\n                    }\n                </span>\n                {\n                    post.content.length > 60 &&\n                    <span className=\"readMore\" onClick={() => setReadMore(!readMore)}>\n                        {readMore ? 'Hide content' : 'Read more'}\n                    </span>\n                }\n\n            </div>\n            {\n                post.images.length > 0 && <Carousel images={post.images} id={post._id} />\n            }\n        </div>\n    )\n}\n\nexport default CardBody\n","export default __webpack_public_path__ + \"static/media/send.fab9d966.svg\";","import React from 'react'\nimport { useSelector } from 'react-redux'\n\nconst LikeButton = ({isLike, handleLike, handleUnLike}) => {\n    const { theme } = useSelector(state => state)\n\n    return (\n        <>\n            {\n                isLike\n                ? <i className=\"fas fa-heart text-danger\" onClick={handleUnLike}\n                style={{filter: theme ? 'invert(1)' : 'invert(0)'}} />\n                : <i className=\"far fa-heart\" onClick={handleLike} />\n            }\n        </>\n    )\n}\n\nexport default LikeButton\n","import React from 'react'\nimport {\n    EmailShareButton, EmailIcon,\n    FacebookShareButton, FacebookIcon,\n    TelegramShareButton, TelegramIcon,\n    TwitterShareButton, TwitterIcon,\n    WhatsappShareButton, WhatsappIcon,\n    RedditShareButton, RedditIcon\n} from 'react-share'\n\nconst ShareModal = ({url, theme}) => {\n    return (\n        <div className=\"d-flex justify-content-between px-4 py-2\"\n        style={{filter: theme ? 'invert(1)' : 'invert(0)' }}>\n            <FacebookShareButton url={url} >\n                <FacebookIcon round={true} size={32} />\n            </FacebookShareButton>\n\n            <TwitterShareButton url={url} >\n                <TwitterIcon round={true} size={32} />\n            </TwitterShareButton>\n\n            <EmailShareButton url={url} >\n                <EmailIcon round={true} size={32} />\n            </EmailShareButton>\n\n            <RedditShareButton url={url} >\n                <RedditIcon round={true} size={32} />\n            </RedditShareButton>\n\n            <TelegramShareButton url={url} >\n                <TelegramIcon round={true} size={32} />\n            </TelegramShareButton>\n\n            <WhatsappShareButton url={url} >\n                <WhatsappIcon round={true} size={32} />\n            </WhatsappShareButton>\n        </div>\n    )\n}\n\nexport default ShareModal\n","import React, { useState, useEffect } from 'react'\nimport { Link } from 'react-router-dom'\nimport Send from '../../../images/send.svg'\nimport LikeButton from '../../LikeButton'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { likePost, unLikePost, savePost, unSavePost } from '../../../redux/actions/postAction'\nimport ShareModal from '../../ShareModal'\nimport { BASE_URL } from '../../../utils/config'\n\n\nconst CardFooter = ({post}) => {\n    const [isLike, setIsLike] = useState(false)\n    const [loadLike, setLoadLike] = useState(false)\n\n    const [isShare, setIsShare] = useState(false)\n\n    const { auth, theme, socket } = useSelector(state => state)\n    const dispatch = useDispatch()\n\n    const [saved, setSaved] = useState(false)\n    const [saveLoad, setSaveLoad] = useState(false)\n\n    // Likes\n    useEffect(() => {\n        if(post.likes.find(like => like._id === auth.user._id)){\n            setIsLike(true)\n        }else{\n            setIsLike(false)\n        }\n    }, [post.likes, auth.user._id])\n\n    const handleLike = async () => {\n        if(loadLike) return;\n        \n        setLoadLike(true)\n        await dispatch(likePost({post, auth, socket}))\n        setLoadLike(false)\n    }\n\n    const handleUnLike = async () => {\n        if(loadLike) return;\n\n        setLoadLike(true)\n        await dispatch(unLikePost({post, auth, socket}))\n        setLoadLike(false)\n    }\n\n\n    // Saved\n    useEffect(() => {\n        if(auth.user.saved.find(id => id === post._id)){\n            setSaved(true)\n        }else{\n            setSaved(false)\n        }\n    },[auth.user.saved, post._id])\n\n    const handleSavePost = async () => {\n        if(saveLoad) return;\n        \n        setSaveLoad(true)\n        await dispatch(savePost({post, auth}))\n        setSaveLoad(false)\n    }\n\n    const handleUnSavePost = async () => {\n        if(saveLoad) return;\n\n        setSaveLoad(true)\n        await dispatch(unSavePost({post, auth}))\n        setSaveLoad(false)\n    }\n\n    return (\n        <div className=\"card_footer\">\n            <div className=\"card_icon_menu\">\n                <div>\n                    <LikeButton \n                    isLike={isLike}\n                    handleLike={handleLike}\n                    handleUnLike={handleUnLike}\n                    />\n\n                    <Link to={`/post/${post._id}`} className=\"text-dark\">\n                        <i className=\"far fa-comment\" />\n                    </Link>\n\n                    <img src={Send} alt=\"Send\" onClick={() => setIsShare(!isShare)} />\n                </div>\n\n                {\n                    saved \n                    ?  <i className=\"fas fa-bookmark text-info\"\n                    onClick={handleUnSavePost} />\n\n                    :  <i className=\"far fa-bookmark\"\n                    onClick={handleSavePost} />\n                }\n               \n            </div>\n\n            <div className=\"d-flex justify-content-between\">\n                <h6 style={{padding: '0 25px', cursor: 'pointer'}}>\n                    {post.likes.length} likes\n                </h6>\n                \n                <h6 style={{padding: '0 25px', cursor: 'pointer'}}>\n                    {post.comments.length} comments\n                </h6>\n            </div>\n\n            {\n                isShare && <ShareModal url={`${BASE_URL}/post/${post._id}`} theme={theme} />\n            }\n        </div>\n    )\n}\n\nexport default CardFooter\n","import { GLOBALTYPES, EditData, DeleteData } from './globalTypes'\nimport { POST_TYPES } from './postAction'\nimport { postDataAPI, patchDataAPI, deleteDataAPI } from '../../utils/fetchData'\nimport { createNotify, removeNotify } from '../actions/notifyAction'\n\n\nexport const createComment = ({post, newComment, auth, socket}) => async (dispatch) => {\n    const newPost = {...post, comments: [...post.comments, newComment]}\n    \n    dispatch({ type: POST_TYPES.UPDATE_POST, payload: newPost })\n\n    try {\n        const data = {...newComment, postId: post._id, postUserId: post.user._id}\n        const res = await postDataAPI('comment', data, auth.token)\n\n        const newData = {...res.data.newComment, user: auth.user}\n        const newPost = {...post, comments: [...post.comments, newData]}\n        dispatch({ type: POST_TYPES.UPDATE_POST, payload: newPost })\n\n        // Socket\n        socket.emit('createComment', newPost)\n\n        // Notify\n        const msg = {\n            id: res.data.newComment._id,\n            text: newComment.reply ? 'mentioned you in a comment.' : 'has commented on your post.',\n            recipients: newComment.reply ? [newComment.tag._id] : [post.user._id],\n            url: `/post/${post._id}`,\n            content: post.content, \n            image: post.images[0].url\n        }\n\n        dispatch(createNotify({msg, auth, socket}))\n        \n    } catch (err) {\n        dispatch({ type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg} })\n    }\n}\n\nexport const updateComment = ({comment, post, content, auth}) => async (dispatch) => {\n    const newComments = EditData(post.comments, comment._id, {...comment, content})\n    const newPost = {...post, comments: newComments}\n    \n    dispatch({ type: POST_TYPES.UPDATE_POST, payload: newPost })\n    try {\n        patchDataAPI(`comment/${comment._id}`, { content }, auth.token)\n    } catch (err) {\n        dispatch({ type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg} })\n    }\n}\n\nexport const likeComment = ({comment, post, auth}) => async (dispatch) => {\n    const newComment = {...comment, likes: [...comment.likes, auth.user]}\n\n    const newComments = EditData(post.comments, comment._id, newComment)\n\n    const newPost = {...post, comments: newComments}\n    \n    dispatch({ type: POST_TYPES.UPDATE_POST, payload: newPost })\n\n    try {\n        await patchDataAPI(`comment/${comment._id}/like`, null, auth.token)\n    } catch (err) {\n        dispatch({ type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg} })\n    }\n}\n\nexport const unLikeComment = ({comment, post, auth}) => async (dispatch) => {\n\n    const newComment = {...comment, likes: DeleteData(comment.likes, auth.user._id)}\n\n    const newComments = EditData(post.comments, comment._id, newComment)\n\n    const newPost = {...post, comments: newComments}\n    \n    dispatch({ type: POST_TYPES.UPDATE_POST, payload: newPost })\n\n    try {\n        await patchDataAPI(`comment/${comment._id}/unlike`, null, auth.token)\n    } catch (err) {\n        dispatch({ type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg} })\n    }\n}\n\nexport const deleteComment = ({post, comment, auth, socket}) => async (dispatch) => {\n    const deleteArr = [...post.comments.filter(cm => cm.reply === comment._id), comment]\n    \n    const newPost = {\n        ...post,\n        comments: post.comments.filter(cm => !deleteArr.find(da => cm._id === da._id))\n    }\n\n    dispatch({ type: POST_TYPES.UPDATE_POST, payload: newPost })\n\n    socket.emit('deleteComment', newPost)\n    try {\n       deleteArr.forEach(item => {\n            deleteDataAPI(`comment/${item._id}`, auth.token)\n\n            const msg = {\n                id: item._id,\n                text: comment.reply ? 'mentioned you in a comment.' : 'has commented on your post.',\n                recipients: comment.reply ? [comment.tag._id] : [post.user._id],\n                url: `/post/${post._id}`,\n            }\n    \n            dispatch(removeNotify({msg, auth, socket}))\n       })\n    } catch (err) {\n        dispatch({ type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg} })\n    }\n\n}","import React from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { deleteComment } from '../../../redux/actions/commentAction'\n\nconst CommentMenu = ({post, comment, setOnEdit}) => {\n\n    const { auth, socket } = useSelector(state => state)\n    const dispatch = useDispatch()\n\n    const handleRemove = () => {\n        if(post.user._id === auth.user._id || comment.user._id === auth.user._id){\n            dispatch(deleteComment({post, auth, comment, socket}))\n        }\n    }\n\n    const MenuItem = () => {\n        return(\n            <>\n                <div className=\"dropdown-item\" onClick={() => setOnEdit(true)}>\n                    <span className=\"material-icons\">create</span> Edit\n                </div>\n                <div className=\"dropdown-item\" onClick={handleRemove}>\n                    <span className=\"material-icons\">delete_outline</span> Remove\n                </div>\n            </>\n        )\n    }\n\n\n    return (\n        <div className=\"menu\">\n            {\n                (post.user._id === auth.user._id || comment.user._id === auth.user._id) &&\n                <div className=\"nav-item dropdown\">\n                    <span className=\"material-icons\" id=\"moreLink\" data-toggle=\"dropdown\">\n                        more_vert\n                    </span>\n\n                    <div className=\"dropdown-menu\" aria-labelledby=\"moreLink\">\n                        {\n                            post.user._id === auth.user._id\n                            ? comment.user._id === auth.user._id\n                                ? MenuItem()\n                                : <div className=\"dropdown-item\" onClick={handleRemove}>\n                                    <span className=\"material-icons\">delete_outline</span> Remove\n                                </div>\n                            : comment.user._id === auth.user._id && MenuItem()\n                        }\n                    </div>\n\n                </div>\n            }\n            \n        </div>\n    )\n}\n\nexport default CommentMenu\n","import React, { useState } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { createComment } from '../../redux/actions/commentAction'\nimport Icons from '../Icons'\n\nconst InputComment = ({children, post, onReply, setOnReply}) => {\n    const [content, setContent] = useState('')\n\n    const { auth, socket, theme } = useSelector(state => state)\n    const dispatch = useDispatch()\n\n    const handleSubmit = (e) => {\n        e.preventDefault()\n        if(!content.trim()){\n            if(setOnReply) return setOnReply(false);\n            return;\n        }\n\n        setContent('')\n        \n        const newComment = {\n            content,\n            likes: [],\n            user: auth.user,\n            createdAt: new Date().toISOString(),\n            reply: onReply && onReply.commentId,\n            tag: onReply && onReply.user\n        }\n        \n        dispatch(createComment({post, newComment, auth, socket}))\n\n        if(setOnReply) return setOnReply(false);\n    }\n\n    return (\n        <form className=\"card-footer comment_input\" onSubmit={handleSubmit} >\n            {children}\n            <input type=\"text\" placeholder=\"Add your comments...\"\n            value={content} onChange={e => setContent(e.target.value)}\n            style={{\n                filter: theme ? 'invert(1)' : 'invert(0)',\n                color: theme ? 'white' : '#111',\n                background: theme ? 'rgba(0,0,0,.03)' : '',\n            }} />\n\n            <Icons setContent={setContent} content={content} theme={theme} />\n\n            <button type=\"submit\" className=\"postBtn\">\n                Post\n            </button>\n        </form>\n    )\n}\n\nexport default InputComment\n","import React, { useState, useEffect } from 'react'\nimport Avatar from '../../Avatar'\nimport { Link } from 'react-router-dom'\nimport moment from 'moment'\n\nimport LikeButton from '../../LikeButton'\nimport { useSelector, useDispatch } from 'react-redux'\nimport CommentMenu from './CommentMenu'\nimport { updateComment, likeComment, unLikeComment } from '../../../redux/actions/commentAction'\nimport InputComment from '../InputComment'\n\nconst CommentCard = ({children, comment, post, commentId}) => {\n    const { auth, theme } = useSelector(state => state)\n    const dispatch = useDispatch()\n\n    const [content, setContent] = useState('')\n    const [readMore, setReadMore] = useState(false)\n\n    const [onEdit, setOnEdit] = useState(false)\n    const [isLike, setIsLike] = useState(false)\n    const [loadLike, setLoadLike] = useState(false)\n\n    const [onReply, setOnReply] = useState(false)\n\n\n    useEffect(() => {\n        setContent(comment.content)\n        setIsLike(false)\n        setOnReply(false)\n        if(comment.likes.find(like => like._id === auth.user._id)){\n            setIsLike(true)\n        }\n    },[comment, auth.user._id])\n\n    const handleUpdate = () => {\n        if(comment.content !== content){\n            dispatch(updateComment({comment, post, content, auth}))\n            setOnEdit(false)\n        }else{\n            setOnEdit(false)\n        }\n    }\n\n\n    const handleLike = async () => {\n        if(loadLike) return;\n        setIsLike(true)\n\n        setLoadLike(true)\n        await dispatch(likeComment({comment, post, auth}))\n        setLoadLike(false)\n    }\n\n    const handleUnLike = async () => {\n        if(loadLike) return;\n        setIsLike(false)\n\n        setLoadLike(true)\n        await dispatch(unLikeComment({comment, post, auth}))\n        setLoadLike(false)\n    }\n\n\n    const handleReply = () => {\n        if(onReply) return setOnReply(false)\n        setOnReply({...comment, commentId})\n    }\n\n    const styleCard = {\n        opacity: comment._id ? 1 : 0.5,\n        pointerEvents: comment._id ? 'inherit' : 'none'\n    }\n\n    return (\n        <div className=\"comment_card mt-2\" style={styleCard}>\n            <Link to={`/profile/${comment.user._id}`} className=\"d-flex text-dark\">\n                <Avatar src={comment.user.avatar} size=\"small-avatar\" />\n                <h6 className=\"mx-1\">{comment.user.username}</h6>\n            </Link>\n\n            <div className=\"comment_content\">\n                <div className=\"flex-fill\" \n                style={{\n                    filter: theme ? 'invert(1)' : 'invert(0)',\n                    color: theme ? 'white' : '#111',\n                }}>\n                    {\n                        onEdit \n                        ? <textarea rows=\"5\" value={content}\n                        onChange={e => setContent(e.target.value)} />\n\n                        : <div>\n                            {\n                                comment.tag && comment.tag._id !== comment.user._id &&\n                                <Link to={`/profile/${comment.tag._id}`} className=\"mr-1\">\n                                    @{comment.tag.username}\n                                </Link>\n                            }\n                            <span>\n                                {\n                                    content.length < 100 ? content :\n                                    readMore ? content + ' ' : content.slice(0, 100) + '....'\n                                }\n                            </span>\n                            {\n                                content.length > 100 &&\n                                <span className=\"readMore\" onClick={() => setReadMore(!readMore)}>\n                                    {readMore ? 'Hide content' : 'Read more'}\n                                </span>\n                            }\n                        </div>\n                    }\n                    \n\n                    <div style={{cursor: 'pointer'}}>\n                        <small className=\"text-muted mr-3\">\n                            {moment(comment.createdAt).fromNow()}\n                        </small>\n\n                        <small className=\"font-weight-bold mr-3\">\n                            {comment.likes.length} likes\n                        </small>\n\n                        {\n                            onEdit\n                            ? <>\n                                <small className=\"font-weight-bold mr-3\"\n                                onClick={handleUpdate}>\n                                    update\n                                </small>\n                                <small className=\"font-weight-bold mr-3\"\n                                onClick={() => setOnEdit(false)}>\n                                    cancel\n                                </small>\n                            </>\n\n                            : <small className=\"font-weight-bold mr-3\"\n                            onClick={handleReply}>\n                                {onReply ? 'cancel' :'reply'}\n                            </small>\n                        }\n                        \n                    </div>\n                    \n                </div>\n\n\n                <div className=\"d-flex align-items-center mx-2\" style={{cursor: 'pointer'}}>\n                    <CommentMenu post={post} comment={comment} setOnEdit={setOnEdit} />\n                    <LikeButton isLike={isLike} handleLike={handleLike} handleUnLike={handleUnLike} />\n                </div>\n            </div> \n            \n            {\n                onReply &&\n                <InputComment post={post} onReply={onReply} setOnReply={setOnReply} >\n                    <Link to={`/profile/${onReply.user._id}`} className=\"mr-1\">\n                        @{onReply.user.username}:\n                    </Link>\n                </InputComment>\n            }\n\n            {children}\n        </div>\n    )\n}\n\nexport default CommentCard\n","import React, { useState, useEffect } from 'react'\nimport CommentCard from './CommentCard'\n\nconst CommentDisplay = ({comment, post, replyCm}) => {\n    const [showRep, setShowRep] = useState([])\n    const [next, setNext] = useState(1)\n\n    useEffect(() => {\n        setShowRep(replyCm.slice(replyCm.length - next))\n    },[replyCm, next])\n\n    return (\n        <div className=\"comment_display\">\n            <CommentCard comment={comment} post={post} commentId={comment._id} >\n                <div className=\"pl-4\">\n                    {\n                        showRep.map((item, index) => (\n                            item.reply &&\n                            <CommentCard\n                            key={index}\n                            comment={item}\n                            post={post}\n                            commentId={comment._id}\n                             />\n                        ))\n                    }\n\n                    {\n                        replyCm.length - next > 0\n                        ? <div style={{cursor: 'pointer', color: 'crimson'}}\n                        onClick={() => setNext(next + 10)}>\n                            See more comments...\n                        </div>\n\n                        : replyCm.length > 1 &&\n                        <div style={{cursor: 'pointer', color: 'crimson'}}\n                        onClick={() => setNext(1)}>\n                            Hide comments...\n                        </div>\n                    }\n                </div>\n            </CommentCard>\n        </div>\n    )\n}\n\nexport default CommentDisplay\n","import React, { useState, useEffect } from 'react'\nimport CommentDisplay from './comments/CommentDisplay'\n\nconst Comments = ({post}) => {\n    const [comments, setComments] = useState([])\n    const [showComments, setShowComments] = useState([])\n    const [next, setNext] = useState(2)\n\n    const [replyComments, setReplyComments] = useState([])\n\n    useEffect(() => {\n        const newCm = post.comments.filter(cm => !cm.reply)\n        setComments(newCm)\n        setShowComments(newCm.slice(newCm.length - next))\n    },[post.comments, next])\n\n    useEffect(()=> {\n        const newRep = post.comments.filter(cm => cm.reply)\n        setReplyComments(newRep)\n    }, [post.comments])\n\n    return (\n        <div className=\"comments\">\n            {\n                showComments.map((comment, index) => (\n                    <CommentDisplay key={index} comment={comment} post={post}\n                    replyCm={replyComments.filter(item => item.reply === comment._id)} />\n                ))\n            }\n\n            {\n                comments.length - next > 0\n                ? <div className=\"p-2 border-top\"\n                style={{cursor: 'pointer', color: 'crimson'}}\n                onClick={() => setNext(next + 10)}>\n                    See more comments...\n                </div>\n\n                : comments.length > 2 &&\n                <div className=\"p-2 border-top\"\n                style={{cursor: 'pointer', color: 'crimson'}}\n                onClick={() => setNext(2)}>\n                    Hide comments...\n                </div>\n            }\n        </div>\n    )\n}\n\nexport default Comments\n","import React from 'react'\nimport CardHeader from './home/post_card/CardHeader'\nimport CardBody from './home/post_card/CardBody'\nimport CardFooter from './home/post_card/CardFooter'\n\nimport Comments from './home/Comments'\nimport InputComment from './home/InputComment'\n\nconst PostCard = ({post, theme}) => {\n    return (\n        <div className=\"card my-3\"> \n            <CardHeader post={post} />\n            <CardBody post={post} theme={theme} />\n            <CardFooter post={post} />\n\n            <Comments post={post} />\n            <InputComment post={post} />\n        </div>\n    )\n}\n\nexport default PostCard\n","import axios from 'axios'\n\nexport const getDataAPI = async (url, token) => {\n    const res = await axios.get(`/api/${url}`, {\n        headers: { Authorization: token}\n    })\n    return res;\n}\n\nexport const postDataAPI = async (url, post, token) => {\n    const res = await axios.post(`/api/${url}`, post, {\n        headers: { Authorization: token}\n    })\n    return res;\n}\n\nexport const putDataAPI = async (url, post, token) => {\n    const res = await axios.put(`/api/${url}`, post, {\n        headers: { Authorization: token}\n    })\n    return res;\n}\n\nexport const patchDataAPI = async (url, post, token) => {\n    const res = await axios.patch(`/api/${url}`, post, {\n        headers: { Authorization: token}\n    })\n    return res;\n}\n\nexport const deleteDataAPI = async (url, token) => {\n    const res = await axios.delete(`/api/${url}`, {\n        headers: { Authorization: token}\n    })\n    return res;\n}","import React, { useState, useEffect } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { getDiscoverPosts, DISCOVER_TYPES } from '../redux/actions/discoverAction'\nimport LoadIcon from '../images/loading.gif'\nimport PostThumb from '../components/PostThumb'\nimport LoadMoreBtn from '../components/LoadMoreBtn'\nimport { getDataAPI} from '../utils/fetchData'\n\nconst Discover = () => {\n    const { auth, discover } = useSelector(state => state)\n    const dispatch = useDispatch()\n\n    const [load, setLoad] = useState(false)\n\n    useEffect(() => {\n        if(!discover.firstLoad){\n            dispatch(getDiscoverPosts(auth.token))\n        }\n    },[dispatch, auth.token, discover.firstLoad])\n\n    const handleLoadMore = async () => {\n        setLoad(true)\n        const res = await getDataAPI(`post_discover?num=${discover.page * 9}`, auth.token)\n        dispatch({type: DISCOVER_TYPES.UPDATE_POST, payload: res.data})\n        setLoad(false)\n    }\n\n    return (\n        <div>\n            {\n                discover.loading \n                ? <img src={LoadIcon} alt=\"loading\" className=\"d-block mx-auto my-4\" />\n                : <PostThumb posts={discover.posts} result={discover.result} />\n            }\n\n            {\n                load && <img src={LoadIcon} alt=\"loading\" className=\"d-block mx-auto\" />\n            }\n\n            {\n                !discover.loading &&\n                <LoadMoreBtn result={discover.result} page={discover.page}\n                load={load} handleLoadMore={handleLoadMore} />\n            }\n            \n        </div>\n    )\n}\n\nexport default Discover\n","import React, { useState, useEffect } from 'react'\nimport { useParams } from 'react-router-dom'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { getPost } from '../../redux/actions/postAction'\nimport LoadIcon from '../../images/loading.gif'\nimport PostCard from '../../components/PostCard'\n\n\nconst Post = () => {\n    const { id } = useParams()\n    const [post, setPost] = useState([])\n\n    const { auth, detailPost } = useSelector(state => state)\n    const dispatch = useDispatch()\n\n    useEffect(() => {\n        dispatch(getPost({detailPost, id, auth}))\n\n        if(detailPost.length > 0){\n            const newArr = detailPost.filter(post => post._id === id)\n            setPost(newArr)\n        }\n    },[detailPost, dispatch, id, auth])\n\n    return (\n        <div className=\"posts\">\n            {\n                post.length === 0 &&\n                <img src={LoadIcon} alt=\"loading\" className=\"d-block mx-auto my-4\" />\n            }\n\n            {\n                post.map(item => (\n                    <PostCard key={item._id} post={item} />\n                ))\n            }\n        </div>\n    )\n}\n\nexport default Post\n"],"sourceRoot":""}